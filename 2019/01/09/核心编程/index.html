<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="核心编程">
<meta name="keywords" content="php">
<meta property="og:type" content="article">
<meta property="og:title" content="核心编程">
<meta property="og:url" content="http://JIUXINYAN.com/2019/01/09/核心编程/index.html">
<meta property="og:site_name" content="moxin-blog">
<meta property="og:description" content="核心编程">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/5.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/6.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/7.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/8.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/9.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/10.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/11.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/12.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/13.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/14.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/15.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/16.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/17.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/18.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/19.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/20.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/21.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/22.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/23.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/24.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/25.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/26.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/28.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/29.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/27.png?lastModify=1535118571">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/30.png">
<meta property="og:image" content="d:/PHP/%E5%B0%B1%E4%B8%9A%E7%8F%AD/03%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/day16/day11/doc/img/31">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/33.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/32.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/2.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d11/3.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/10.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/11.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/12.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/13.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/14.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/15.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/16.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/17.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/18.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/20.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/21.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d12/22.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d13/1.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d13/3.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d13/4.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/5.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/6.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/7.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/8.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/9.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/10.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/11.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/12.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/13.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/14.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/15.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/16.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/17.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/18.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/19.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/20.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/21.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/22.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_13/23.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/4.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/5.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/6.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/7.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/8.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/9.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/10.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/11.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/10.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/13.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/14.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/15.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/16.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/17.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/18.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/19.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/20.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/21.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/22.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/22.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/23.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/24.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/25.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/26.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/27.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/29.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/30.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/28.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/31.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/2.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/3.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/32.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/33.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/34.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/35.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d14/36.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/1.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/2.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/3.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/11.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/7.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/4.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/5.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/1.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/13.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/15.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/2.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/14.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/6.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/3.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/16.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/4.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/18.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/20.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/5.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/17.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/6.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/22.png">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/18.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/19.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/20.jpg">
<meta property="og:image" content="http://jiuxinyan.com/images/two/img_d15/21.jpg">
<meta property="og:updated_time" content="2019-02-19T06:24:31.860Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="核心编程">
<meta name="twitter:description" content="核心编程">
<meta name="twitter:image" content="http://jiuxinyan.com/images/two/img_d11/5.png">






  <link rel="canonical" href="http://JIUXINYAN.com/2019/01/09/核心编程/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>核心编程 | moxin-blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://https://github.com/JIUXINYAN" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">moxin-blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JIUXINYAN.com/2019/01/09/核心编程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JIUXINYAN">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/a.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moxin-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">核心编程</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-09T14:08:30+08:00">2019-01-09</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="核心编程"><a href="#核心编程" class="headerlink" title="核心编程"></a>核心编程</h1><a id="more"></a>
<h1 id="1-表单传值"><a href="#1-表单传值" class="headerlink" title="1. 表单传值"></a>1. 表单传值</h1><h2 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1  概念"></a>1.1  概念</h2><h3 id="1-1-1-why使用"><a href="#1-1-1-why使用" class="headerlink" title="1.1.1 why使用"></a>1.1.1 why使用</h3><p>绝大部分的网站几乎都拥有登陆或注册页面，并且也都拥有录入信息的后台。</p>
<p>比如我们在网站的登陆页面或注册页面填写信息提交后，填写的信息之所以能够传递到服务器，就是因为网站的页面中使用了==表单传值==；</p>
<h3 id="1-2-what"><a href="#1-2-what" class="headerlink" title="1.2 what"></a>1.2 what</h3><p>概念：表单传值指的是通过==表单==构建数据，传递给服务器。 </p>
<h2 id="1-2-表单传值的方式"><a href="#1-2-表单传值的方式" class="headerlink" title="1.2 表单传值的方式"></a>1.2 表单传值的方式</h2><p>表单传值的方式包含两种：</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> POST方式</li>
<li style="list-style: none"><input type="checkbox" checked> GET方式</li>
</ul>
<h3 id="1-2-1POST方式"><a href="#1-2-1POST方式" class="headerlink" title="1.2.1POST方式"></a>1.2.1POST方式</h3><p><strong>==需求==</strong>：使用POST方式实现一个会员注册页面，包含帐号，密码两个填写项。</p>
<p><strong>==解答==</strong>：构建一个名为code1.html的页面，代码如下</p>
<p><img src="\images\two\img_d11\5.png" alt="5"></p>
<h3 id="1-2-2-GET方式"><a href="#1-2-2-GET方式" class="headerlink" title="1.2.2 GET方式"></a>1.2.2 GET方式</h3><p>==<strong>需求</strong>==：使用GET方式实现一个会员注册页面，包含帐号，密码两个填写项。</p>
<p><strong>==解答==</strong>：构建一个名为code2.html的页面，代码如下</p>
<p><img src="\images\two\img_d11\6.png" alt="6"></p>
<p><strong>==小结==</strong></p>
<p>表单传值的方式包括两种：1）GET方式；2）POST方式；</p>
<p>表单传值的方式指的是：将数据传递给服务器的方式；</p>
<p>==<strong>提问</strong>==：有传递就则必定有接收，通过表单传递方式传递出去的数据，在服务器端的PHP程序页面需要如何接收呢？</p>
<h2 id="1-3-接收数据的方式"><a href="#1-3-接收数据的方式" class="headerlink" title="1.3  接收数据的方式"></a>1.3  接收数据的方式</h2><p>PHP接收数据的方式包含三种：</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> $_POST方式</li>
<li style="list-style: none"><input type="checkbox" checked> $_GET方式</li>
<li style="list-style: none"><input type="checkbox" checked> $_REQUEST方式</li>
</ul>
<h3 id="1-3-1-POST方式"><a href="#1-3-1-POST方式" class="headerlink" title="1.3.1 $_POST方式"></a>1.3.1 $_POST方式</h3><p>$_POST作用：只接收POST方式传递的数据。</p>
<p><strong>==需求==</strong>：使用POST方式实现一个会员注册表单页面，包含帐号，密码两个填写项，同时实现在程序页面中使用$_POST和$_GET接收并输出表单页面提交传递的数据。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code3.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code4.php"</span> &gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>帐号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"acc"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"立即注册"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code4.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_POST：'</span>; </span><br><span class="line">print_r($_POST);  <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_GET：'</span>; </span><br><span class="line">print_r($_GET);</span><br></pre></td></tr></table></figure>
<p>第三步，访问code3.html页面，填写注册数据，<img src="\images\two\img_d11\7.png" alt="7"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11\8.png" alt="8"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>$_GET只能接受get方式传递的数据，而不能接受post方式传递的数据；</li>
</ol>
<h3 id="1-3-2-GET方式"><a href="#1-3-2-GET方式" class="headerlink" title="1.3.2 $_GET方式"></a>1.3.2 $_GET方式</h3><p>作用：只接收GET方式传递的数据。</p>
<p><strong>==需求==</strong>：使用GET方式实现一个会员注册表单页面，包含帐号，密码两个填写项，同时实现在程序页面中使用$_GET和$_POST接收并输出表单页面提交传递的数据。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code5.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"get"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code6.php"</span> &gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>帐号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"acc"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"立即注册"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code6.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_POST：'</span>; </span><br><span class="line">print_r($_POST);  <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_GET：'</span>; </span><br><span class="line">print_r($_GET);</span><br></pre></td></tr></table></figure>
<p>第三步，访问code5.html页面，填写注册数据，</p>
<p><img src="\images\two\img_d11\9.png" alt="9"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11\10.png" alt="10"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>$_POST只能接受post方式传递的数据，而不能接受get方式传递的数据；</li>
</ol>
<h4 id="1）表单传值GET方式的核心特征"><a href="#1）表单传值GET方式的核心特征" class="headerlink" title="1）表单传值GET方式的核心特征"></a>1）表单传值GET方式的核心特征</h4><p>使用GET方式传递数据时，提交后的链接地址的格式比较特殊，这个固定格式的链接地址就是GET方式提交数据的核心特征。</p>
<p>GET方式核心特征格式说明：</p>
<p><img src="\images\two\img_d11\11.png" alt="11"></p>
<h3 id="1-3-3-REQUEST方式"><a href="#1-3-3-REQUEST方式" class="headerlink" title="1.3.3 $_REQUEST方式"></a>1.3.3 $_REQUEST方式</h3><p>作用：同时包含$_POST，$_GET和$_COOKIE的数据。</p>
<p><strong>==需求==</strong>：</p>
<ol>
<li>在一个form表单中同时使用POST方式和GET方式实现表单传值，其中POST方式传递帐号和密码两个需要填写的数据，GET方式固定传递国籍country=china数据；</li>
<li>实现在程序页面中使用$_GET、$_POST和$_REQUEST接收并输出表单页面提交传递的数据。</li>
</ol>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code7.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code8.php?country=china"</span> &gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>帐号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"acc"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"立即注册"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code8.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_POST：'</span>; </span><br><span class="line">print_r($_POST);  <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_GET：'</span>; </span><br><span class="line">print_r($_GET); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'$_REQUEST'</span>; </span><br><span class="line">print_r($_REQUEST);</span><br></pre></td></tr></table></figure>
<p>第三步，访问code7.html页面，填写注册数据，</p>
<p><img src="\images\two\img_d11\12.png" alt="12"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11\13.png" alt="13"></p>
<p><strong>==小结==</strong>：$_QUERST就是包含$_GET和$_POST两部分数据的数组集合。</p>
<p>==<strong>提问</strong>==：$_REQUEST即包含$_POST元素数据，又包含$_GET元素数据，那么当$_POST与$_GET存在下标同名的元素时，$_REQUET将会选择谁的数据作为最终值？</p>
<p>构建code9.html程序文件，代码如下：</p>
<p><img src="\images\two\img_d11\14.png" alt="14"></p>
<p>构建code10.php程序文件代码如下：</p>
<p><img src="\images\two\img_d11\15.png" alt="15"></p>
<p>测试访问code9.html，并且构建填写的注册数据，</p>
<p><img src="\images\two\img_d11\16.png" alt="16"></p>
<p>点击注册按钮后，效果为：</p>
<p><img src="\images\two\img_d11\17.png" alt="17"></p>
<p>虽然从直观的效果上，我们观察到$_REQUEST包含的是$_POST的数据，但是最终$_REQUEST采用谁的数据，实际上是取决于php.ini中的名为request_order配置项的具体配置而言的。</p>
<p><img src="\images\two\img_d11\18.png" alt="18"></p>
<h3 id="1-3-4-POST与GET区别"><a href="#1-3-4-POST与GET区别" class="headerlink" title="1.3.4 POST与GET区别"></a>1.3.4 POST与GET区别</h3><p>无论是POST方式，还是GET方式，都属于表单传值。而表单传值的最终目的就是==构建数据传输给服务器==，这也就意味着POST方式和GET方式都能用来传输数据给服务器。</p>
<p>那么既然存在两种方式，我们在实际应用中应该如何来选择使用呢？</p>
<p>为此，我们需要进一步学习POST方式与GET方式之间的区别。POST方式与GET方式主要区别有四点：</p>
<ul>
<li>GET方式具有可见性，而POST方式不具有可见性；</li>
<li>基于第一点，POST方式在安全性上比GET方式要高一些；</li>
<li>在传输的数据量上，POST方式可能比GET方式要大；</li>
<li>在支持的数据类型上，GET方式仅支持ASCII码数据类型，POST方式无限制；</li>
</ul>
<p>以上四点主要区别，无一例外，都说明了理论上POST方式比GET方式好，而在实际的使用中，我们在构建form表单时，method通常都是被指定为post方式。</p>
<p>==<strong>提问</strong>==：既然POST方式比GET方式优越，为什么还会有GET方式呢？</p>
<h3 id="1-3-5-GET应用"><a href="#1-3-5-GET应用" class="headerlink" title="1.3.5 GET应用"></a>1.3.5 GET应用</h3><h4 id="1-指定a标签的href属性"><a href="#1-指定a标签的href属性" class="headerlink" title="1) 指定a标签的href属性"></a>1) 指定a标签的href属性</h4><p><strong>==需求==</strong>：构建分类列表页，实现点击每个分类都将跳转到同一个页面，但是最终将会输出与点击的分类相关的产品信息。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code11.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>产品分类页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.home.com/class/day11/code/code12.php?type=1"</span>&gt;</span>一脚蹬<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.home.com/class/day11/code/code12.php?type=2"</span>&gt;</span>帆布鞋<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.home.com/class/day11/code/code12.php?type=3"</span>&gt;</span>拖孩<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code12.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//var_dump( $_GET['type'] ); </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( $_GET[<span class="string">'type'</span>]==<span class="number">1</span> )&#123;<span class="comment">//表示要展示一脚蹬鞋</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;一脚蹬1&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;一脚蹬2&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;一脚蹬3&lt;/span&gt;'</span>; </span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">elseif</span>( $_GET[<span class="string">'type'</span>]==<span class="number">2</span> )&#123;<span class="comment">//表示要展示帆布鞋</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;帆布鞋1&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;帆布鞋2&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;帆布鞋3&lt;/span&gt;'</span>; </span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">elseif</span>( $_GET[<span class="string">'type'</span>]==<span class="number">3</span> )&#123;<span class="comment">//表示要展示拖孩</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;拖孩1&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;拖孩2&lt;/span&gt;&lt;br/&gt;'</span>; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;span&gt;拖孩3&lt;/span&gt;'</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第三步，访问code11.html，点击不同的分类，查看最终效果</p>
<p><img src="\images\two\img_d11/19.png?lastModify=1535118571" alt="img"></p>
<p>点击后效果为：</p>
<p><img src="\images\two\img_d11/20.png?lastModify=1535118571" alt="img"></p>
<h4 id="2-js中指定location对象的href属性"><a href="#2-js中指定location对象的href属性" class="headerlink" title="2)  js中指定location对象的href属性"></a>2)  js中指定location对象的href属性</h4><p><strong>==需求==</strong>：</p>
<ol>
<li>构建商品购买页面，假设商品库存为100个，要求有填写购买数量的输入框和立即购买按钮；</li>
<li>在商品购买页面中需要实现当点击立即购买按钮时，会根据用户填写的商品购买数量进行判断，如果没有超出库存则允许购买，如果超出库存则给出提示且不允许购买；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code13.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>拖孩1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"buyNum"</span> /&gt;</span>库存数量为：100个 <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>立即购买<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> totalNum = <span class="number">100</span>;<span class="comment">//定义变量保存库存数量</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> buyNum = <span class="built_in">document</span>.getElementById(<span class="string">'buyNum'</span>).value;<span class="comment">//获取当前输入的购买数量</span></span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> ( buyNum&gt;totalNum )&#123;<span class="comment">//如果购买数量大于了库存数量，则给出提示信息，不允许购买，</span></span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'感谢土豪的支持，但是库存不足哟～'</span>);</span></span><br><span class="line"><span class="javascript">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//如果购买数量在库存的范围内，则允许购买</span></span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="javascript">        <span class="comment">//跳转到结算页面去，同时携带上当前商品的购买数量</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.location.href = <span class="string">'http://www.home.com/class/day11/code/code14.php?buyNum='</span>+buyNum;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">        </span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code14.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">var_dump( $_GET ); </span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line">var_dump( $_GET[<span class="string">'buyNum'</span>] ); </span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'开始进行结算......'</span>;</span><br></pre></td></tr></table></figure>
<p>第三步，访问code13.html，填写商品数量，测试使用效果，</p>
<p>购买数量超出了库存则不会跳进结算页面，而会直接给个提示信息，</p>
<p><img src="\images\two\img_d11\21.png" alt="21"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>表单传值的方式有两种：1）get方式；2）post方式；</li>
<li>PHP接收表单数据的方式有3中:1)$_GET; 2)$_POST; 3)$_REQUEST</li>
<li>GET方式的核心特征：可以用”?”分隔链接地址和数据；可以用”&amp;”分隔数据与数据；</li>
</ol>
<h3 id="1-3-6-单选按钮与复选框的处理"><a href="#1-3-6-单选按钮与复选框的处理" class="headerlink" title="1.3.6 单选按钮与复选框的处理"></a>1.3.6 单选按钮与复选框的处理</h3><p>在web项目中，我们经常会在表单页面构建一些统计选项，以便在后期实现对数据更加精准的定位。常用的统计选项如单选或多选，都是我们经常会用到的。</p>
<p>在表单页面中单选使用的是单选按钮==radio==来实现的；多选使用的复选框==checkbox==来实现的。</p>
<h3 id="1-3-7-单选按钮"><a href="#1-3-7-单选按钮" class="headerlink" title="1.3.7 单选按钮"></a>1.3.7 单选按钮</h3><p><strong>==需求==</strong>：实现一个会员注册表单页面，包含帐号，密码和性别三个项，同时实现在程序页面中接收并输出表单页面提交传递的数据。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code15.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>注册会员<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code16.php"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>帐号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"acc"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>性别：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!-- 单选按钮type值必须为radio --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 必须包含name值，name值是一样的 --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 同时还需指定value值 --&gt;</span></span><br><span class="line">            男： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"male"</span> /&gt;</span></span><br><span class="line">            女： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"female"</span>/&gt;</span></span><br><span class="line">            保密： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"secret"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"立即注册"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code16.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">var_dump( $_POST );</span><br></pre></td></tr></table></figure>
<p>第三步，访问code15.html页面，填写注册数据，</p>
<p><img src="\images\two\img_d11\22.png" alt="22"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11\23.png" alt="23"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>我们可以通过type值构建为radio来设置单选按钮；</li>
<li>必须包含name值，name值是一样的；</li>
<li>同时还需指定value值；</li>
</ol>
<h3 id="1-3-8-复选框"><a href="#1-3-8-复选框" class="headerlink" title="1.3.8 复选框"></a>1.3.8 复选框</h3><p><strong>==需求==</strong>：实现一个运动网站会员注册表单页面，包含帐号，密码和爱好三个项，其中爱好是多选选项，同时实现在程序页面中接收并输出表单页面提交传递的数据。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code17.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>注册会员<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code18.php"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>帐号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"acc"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>爱好：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 在name值后面需要加上中括号"[]" --&gt;</span></span><br><span class="line">            舞剑： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbies[]"</span> <span class="attr">value</span>=<span class="string">"wujian"</span> /&gt;</span></span><br><span class="line">            耍大刀： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbies[]"</span> <span class="attr">value</span>=<span class="string">"shuadadao"</span> /&gt;</span></span><br><span class="line">            游泳： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbies[]"</span> <span class="attr">value</span>=<span class="string">"swim"</span> /&gt;</span></span><br><span class="line">            跳伞： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbies[]"</span> <span class="attr">value</span>=<span class="string">"tiaosan"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"立即注册"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code18.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">print_r( $_POST );</span><br></pre></td></tr></table></figure>
<p>第三步，访问code17.html页面，填写注册数据，</p>
<p><img src="\images\two\img_d11\24.png?lastModify=1535118571" alt="img"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11/25.png?lastModify=1535118571" alt="img"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>复选框需要指定type值为checkbox；</li>
<li>复选框的name值需要加上中括号”[]”；</li>
</ol>
<h2 id="1-4-文件上传"><a href="#1-4-文件上传" class="headerlink" title="1.4 文件上传"></a>1.4 文件上传</h2><h3 id="1-4-1-概念"><a href="#1-4-1-概念" class="headerlink" title="1.4.1 概念"></a>1.4.1 概念</h3><h4 id="1-why使用文件上传"><a href="#1-why使用文件上传" class="headerlink" title="1) why使用文件上传"></a>1) why使用文件上传</h4><p>在web领域，文件上传的应用非常广泛。如上传头像，上传证件照，上传报表文件等，都需要用到文件上传技术。</p>
<h4 id="2-what是文件上传"><a href="#2-what是文件上传" class="headerlink" title="2) what是文件上传"></a>2) what是文件上传</h4><p>概念：文件上传指的是将文件从本地传输到指定的服务器。</p>
<p>==<strong>提问</strong>==：将文件从本地传输到服务器，从实现的角度来看是一个什么样的过程呢？</p>
<h4 id="3-文件上传的实现思路"><a href="#3-文件上传的实现思路" class="headerlink" title="3) 文件上传的实现思路"></a>3) 文件上传的实现思路</h4><p><img src="\images\two\img_d11/26.png?lastModify=1535118571" alt="img"></p>
<h3 id="1-4-2-核心步骤"><a href="#1-4-2-核心步骤" class="headerlink" title="1.4.2 核心步骤"></a>1.4.2 核心步骤</h3><p><strong>==需求==</strong>：根据文件上传的3步思路，实现一个图片上传页面及功能。</p>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code19.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>文件上传核心三步<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- method必须为post --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 必须指定enctype属性，这个属性的属性值固定是：multipart/form-data --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 必须指定action属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">encthtml</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code20.php"</span> &gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 必须指定type值为file才能够实现文件的点选界面 --&gt;</span></span><br><span class="line">        上传的图片： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"img"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"点击上传"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code20.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需要使用move_uploaded_file函数实现文件的转移工作</span></span><br><span class="line">$re = move_uploaded_file($_FILES[<span class="string">'img'</span>][<span class="string">'tmp_name'</span>], <span class="string">'F:/home/class/day11/code/upload/a.jpg'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p>第三步，访问code19.html页面，选定图片文件，</p>
<p><img src="\images\two\img_d11/28.png?lastModify=1535118571" alt="img"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="\images\two\img_d11/29.png?lastModify=1535118571" alt="img"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>以下是$_FILES的基本结构说明：</li>
</ol>
<p><img src="\images\two\img_d11/27.png?lastModify=1535118571" alt="img"></p>
<p>==<strong>提问</strong>==：网站项目中，实现文件上传的页面只会支持上传一个文件吗？</p>
<h4 id="1-4-2-1-多文件上传"><a href="#1-4-2-1-多文件上传" class="headerlink" title="1.4.2.1 多文件上传"></a>1.4.2.1 多文件上传</h4><p>在web项目中，实现文件上传的页面时常会包含多个文件。</p>
<p>比如家装公司的效果图网站，一个房子内部的效果图不止一张，可能会包含多张，比如会分成客厅效果图，卧室效果图，玄关效果图，厨房效果图等等，那么，在上传文件时就需要支持多文件上传的功能了。</p>
<p>在PHP中我们把多文件上传分成两类：</p>
<ul>
<li>不同名多文件的上传</li>
<li>同名多文件的上传</li>
</ul>
<h5 id="1-不同名多文件"><a href="#1-不同名多文件" class="headerlink" title="1) 不同名多文件"></a>1) 不同名多文件</h5><p>我们以家装公司的效果图网站来举一个例子。</p>
<p><strong>==需求==</strong>：</p>
<ol>
<li>实现一个家装公司效果图网站的图片上传表单页面，包含客厅效果图，卧室效果图两个文件上传域；</li>
<li>实现文件上传的程序处理功能。</li>
</ol>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code21.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>文件上传核心三步<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code22.php"</span> &gt;</span></span><br><span class="line">        客厅效果图： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"keting"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        卧室效果图： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"woshi"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"点击上传"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code22.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">foreach</span>( $_FILES <span class="keyword">as</span> $file_key=&gt;$file )&#123; </span><br><span class="line"></span><br><span class="line">    $path = <span class="string">'F:/home/class/day11/code/upload/'</span>;<span class="comment">//定义保存的路径</span></span><br><span class="line">    $wholeFileName = $path . $file[<span class="string">'name'</span>];<span class="comment">//拼接全路径名称</span></span><br><span class="line">    $re = move_uploaded_file($file[<span class="string">'tmp_name'</span>], $wholeFileName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( $re )&#123;</span><br><span class="line">        <span class="keyword">echo</span> $file_key . <span class="string">' 图片上传成功&lt;br/&gt;'</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第三步，访问code21.html页面，选定图片文件，</p>
<p><img src="\images\two\img_d11\30.png" alt="30"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><img src="D:/PHP/%E5%B0%B1%E4%B8%9A%E7%8F%AD/03%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/day16/day11/doc/img/31" alt="1534665181096"></p>
<p><strong>==小结==</strong>：不同名多文件的上传指的是html的文件上传域input的name值不相同；</p>
<h5 id="2-同名多文件"><a href="#2-同名多文件" class="headerlink" title="2) 同名多文件"></a>2) 同名多文件</h5><p>我们以证件审核网站来举一个例子。</p>
<p><strong>==需求==</strong>：</p>
<ol>
<li>实现一个证件审核网站的身份证正反两面图片上传表单页面；</li>
<li>实现文件上传的程序处理功能。</li>
</ol>
<p><strong>==解答==</strong>：</p>
<p>第一步，构建一个名为code23.html的页面，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>文件上传核心三步<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">action</span>=<span class="string">"http://www.home.com/class/day11/code/code24.php"</span> &gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 如果是同名多文件的上传，则必须在name值后面加上中括号"[]" --&gt;</span></span><br><span class="line">		身份证正面： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"idcard[]"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		身份证反面： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"idcard[]"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"点击上传"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code24.php的程序处理页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">foreach</span>( $_FILES[<span class="string">'idcard'</span>][<span class="string">'error'</span>] <span class="keyword">as</span> $error_key=&gt;$error )&#123; </span><br><span class="line">    </span><br><span class="line">   $path = <span class="string">'F:/home/class/day11/code/upload/'</span>;<span class="comment">//定义保存的路径</span></span><br><span class="line">   $wholeFileName = $path . $_FILES[<span class="string">'idcard'</span>][<span class="string">'name'</span>][$error_key];<span class="comment">//拼接全路径名称</span></span><br><span class="line">   $re = move_uploaded_file($_FILES[<span class="string">'idcard'</span>][<span class="string">'tmp_name'</span>][$error_key], $wholeFileName);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>( $re )&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'第'</span> . ($error_key+<span class="number">1</span>) . <span class="string">'张图片的全路径为：'</span> . $wholeFileName . <span class="string">'&lt;br/&gt;'</span>; </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第三步，访问code23.html页面，选定图片文件，</p>
<p><img src="\images\two\img_d11\33.png" alt="33"></p>
<p>第四步，点击提交按钮，查看最终提交后的效果，</p>
<p><strong>==小结==</strong>：</p>
<p>多文件上传时$_FILES的结构：</p>
<p><img src="\images\two\img_d11\32.png" alt="32"></p>
<h4 id="1-4-2-2-封装文件上传函数"><a href="#1-4-2-2-封装文件上传函数" class="headerlink" title="1.4.2.2 封装文件上传函数"></a>1.4.2.2 封装文件上传函数</h4><p>在web网站中，文件上传功能不可或缺，但是并不是每一个页面都需要文件上传功能。所以我们会将文件上传功能封装成函数，以便以后在项目中随用随取，而不需要每次都重复写相同的功能代码。</p>
<h5 id="1-error错误码值"><a href="#1-error错误码值" class="headerlink" title="1) error错误码值"></a>1) error错误码值</h5><p>在手册中的位置：</p>
<p><img src="\images\two\img_d11\2.png" alt="2"></p>
<p><img src="\images\two\img_d11\3.png" alt="3"></p>
<h5 id="2-功能分析"><a href="#2-功能分析" class="headerlink" title="2) 功能分析"></a>2) 功能分析</h5><ol>
<li>检查系统方面的错误；</li>
<li>检查逻辑方面的错误；</li>
<li>构建绝对不重复的文件名；</li>
<li>转移文件到指定的目录中；</li>
</ol>
<h5 id="3-代码实现"><a href="#3-代码实现" class="headerlink" title="3) 代码实现"></a>3) 代码实现</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  功能：文件上传功能函数</span></span><br><span class="line"><span class="comment"> *  作者：螺旋面条  2018/8/19</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  $file     array       包含五个部分信息的形参变量，</span></span><br><span class="line"><span class="comment">            $file['name']    string      上传文件的原文件名，例：$file['name']='a.jpg';</span></span><br><span class="line"><span class="comment">            $file['type']    string      上传文件的格式类型，例：$file['type']='image/jpeg';</span></span><br><span class="line"><span class="comment">            $file['tmp_name']  string      存储在临时目录下的文件全路径，例：$file['type']='C:/Windows/Temp/xx.tmp';</span></span><br><span class="line"><span class="comment">            $file['error']    int          上传时出现的错误码值，例：$file['error']=0;</span></span><br><span class="line"><span class="comment">                  错误码值：   </span></span><br><span class="line"><span class="comment">                       0     表示没有错误</span></span><br><span class="line"><span class="comment">                       1     文件上传的大小超出了系统配置文件的限制大小</span></span><br><span class="line"><span class="comment">                       2     文件上传的大小超过了浏览器的限制</span></span><br><span class="line"><span class="comment">                       3     文件没有完全上传完</span></span><br><span class="line"><span class="comment">                       4     用户没有选择需要上传的文件</span></span><br><span class="line"><span class="comment">                       6     找不到临时目录</span></span><br><span class="line"><span class="comment">                       7     文件写入服务器失败</span></span><br><span class="line"><span class="comment">            $file['size']     int           文件的大小，单位字节，例：$file['size']=1234567;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upFile</span><span class="params">($file)</span></span>&#123; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">#检查系统错误</span></span><br><span class="line">    <span class="keyword">switch</span> ( $file[<span class="string">'error'</span>] )&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'文件上传的大小超出了系统配置文件的限制大小～'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'文件上传的大小超过了浏览器的限制！'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'文件没有完全上传完！'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'用户没有选择需要上传的文件哟～'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'服务器繁忙，请客官稍候再试～'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#检查逻辑错误</span></span><br><span class="line">    <span class="comment">//检查格式类型是否符合要求</span></span><br><span class="line">    $limitType = [<span class="string">'image/jpeg'</span>, <span class="string">'image/png'</span>];<span class="comment">//定义出允许的格式类型</span></span><br><span class="line">    <span class="keyword">if</span>( !in_array($file[<span class="string">'type'</span>], $limitType) )&#123;<span class="comment">//如果上传的文件格式类型不在允许的范围内，则给出提示信息，并且中止函数的执行</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'您上传的文件格式类型不符合要求，只能上传'</span> . implode(<span class="string">'或'</span>, $limitType) . <span class="string">'格式的文件'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//检查文件的大小是否符合逻辑要求</span></span><br><span class="line">    $limitSize = <span class="number">250</span> * <span class="number">1024</span>;<span class="comment">//限定的大小为250KB</span></span><br><span class="line">    <span class="keyword">if</span>( $file[<span class="string">'size'</span>]&gt;$limitSize )&#123;<span class="comment">//如果上传的文件大小超过了限定的大小，则给出提示，并且中止函数的执行</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'您上传的文件超过'</span> . ($limitSize/<span class="number">1024</span>) . <span class="string">'KB的大小，请重新选择上传的文件！'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#构建绝对不重复的文件名</span></span><br><span class="line">    $fileName = uniqid(<span class="string">'img_'</span>) . date(<span class="string">'YmdHis'</span>) . <span class="string">'_'</span> . mt_rand(<span class="number">0</span>, <span class="number">10000</span>) . strstr($file[<span class="string">'name'</span>], <span class="string">'.'</span>);</span><br><span class="line">    $path = <span class="string">'F:/home/class/day11/code/upload/'</span>;</span><br><span class="line">    $wholeFileName = $path . $fileName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#转移文件到指定目录</span></span><br><span class="line">    $re = move_uploaded_file($file[<span class="string">'tmp_name'</span>], $wholeFileName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( $re )&#123;<span class="comment">//上传成功</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'恭喜你，文件上传成功'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//上传失败</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'系统繁忙，请稍候再试！'</span>; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-MYSQLI扩展"><a href="#2-MYSQLI扩展" class="headerlink" title="2. MYSQLI扩展"></a>2. MYSQLI扩展</h1><h2 id="2-1-概念"><a href="#2-1-概念" class="headerlink" title="2.1 概念"></a>2.1 概念</h2><h3 id="2-1-1-why使用"><a href="#2-1-1-why使用" class="headerlink" title="2.1.1 why使用"></a>2.1.1 why使用</h3><p>以前操作MYSQL使用的是黑窗口客户端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">note left of 黑窗口客户端: 通过黑窗口进行操作</span><br><span class="line">黑窗口客户端--&gt;MYSQL数据库（服务器）:建立连接和认证</span><br><span class="line">MYSQL数据库（服务器）--&gt;黑窗口客户端:返回连接信息</span><br><span class="line">note left of 黑窗口客户端: 通过黑窗口进行操作</span><br><span class="line">黑窗口客户端--&gt;MYSQL数据库（服务器）:执行各种MYSQL操作指令</span><br><span class="line">MYSQL数据库（服务器）--&gt;黑窗口客户端:返回执行的结果</span><br></pre></td></tr></table></figure>
<p>现在操作MYSQL需要使用PHP代替黑窗口客户端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">note left of PHP: 通过MYSQLI扩展进行操作</span><br><span class="line">PHP--&gt;MYSQL数据库（服务器）:建立连接和认证</span><br><span class="line">MYSQL数据库（服务器）--&gt;PHP:返回连接信息</span><br><span class="line">note left of PHP: 通过MYSQLI扩展进行操作</span><br><span class="line">PHP--&gt;MYSQL数据库（服务器）:执行各种MYSQL操作指令</span><br><span class="line">MYSQL数据库（服务器）--&gt;PHP:返回执行的结果</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-what"><a href="#2-1-2-what" class="headerlink" title="2.1.2 what"></a>2.1.2 what</h3><p>概念：MYSQLI扩展即PHP利用MYSQL提供的语言操作接口，封装出来的一系列操作MYSQL数据库的==函数==和操作类。 </p>
<h2 id="2-2-MYSQLI的使用"><a href="#2-2-MYSQLI的使用" class="headerlink" title="2.2 MYSQLI的使用"></a>2.2 MYSQLI的使用</h2><p>MYSQLI是PHP中的一个==扩展==，扩展的意思即不是默认就自带支持的，而是需要通过额外引入才能使用的。</p>
<p>所以我们在使用之前，需要先将MYSQLI扩展引入进PHP。</p>
<h3 id="2-2-1-引入MYSQLI"><a href="#2-2-1-引入MYSQLI" class="headerlink" title="2.2.1 引入MYSQLI"></a>2.2.1 引入MYSQLI</h3><p>==步骤==：</p>
<p>第一步，打开php的配置文件php.ini，配置extension_dir配置项，</p>
<p><img src="\images\two\img_d12\10.png" alt="10"></p>
<p>第二步，再在php.ini中开启MYSQLI相关的扩展配置项，</p>
<p><img src="\images\two\img_d12\11.png" alt="11"></p>
<p>第三步，去到extension_dir指定的目录中确认php_mysqli.dll文件是否存在，</p>
<p><img src="\images\two\img_d12\12.png" alt="12"></p>
<p>第四步，重启apache，</p>
<p><img src="\images\two\img_d12\13.png" alt="13"></p>
<p>第五步，测试MYSQLI扩展是否开启成功，通过程序文件中的phpinfo查看配置信息，</p>
<p><img src="\images\two\img_d12\14.png" alt="14"></p>
<h3 id="2-2-2-黑窗口操作"><a href="#2-2-2-黑窗口操作" class="headerlink" title="2.2.2 黑窗口操作"></a>2.2.2 黑窗口操作</h3><ol>
<li>登陆数据库；</li>
<li>设置字符集；</li>
<li>选择默认的数据库；</li>
<li>增删改（设置）数据；</li>
<li>查询操作；</li>
</ol>
<h3 id="2-2-3-连库操作"><a href="#2-2-3-连库操作" class="headerlink" title="2.2.3 连库操作"></a>2.2.3 连库操作</h3><p>使用MYSQLI实现连库基本操作  相当于  打开黑窗口连接数据库，选择默认的数据库和设置字符集操作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mysqli_connect</strong>(数据库ip地址,  帐号,  密码,  默认选择的数据库)</td>
<td>登陆数据库+选择数据库</td>
</tr>
<tr>
<td><strong>mysqli_set_charset</strong>(mysqli连接,  字符集编码)</td>
<td>设置字符集操作</td>
</tr>
<tr>
<td><strong>mysqli_select_db</strong>(mysqli连接, 数据库名)</td>
<td>切换数据库</td>
</tr>
<tr>
<td><strong>mysqli_close</strong>(mysqli连接)</td>
<td>关闭数据库连接操作</td>
</tr>
</tbody>
</table>
<blockquote>
<p>涉及的函数：</p>
<p><strong>mysqli_connect</strong>(数据库ip地址,  帐号,  密码,  默认选择的数据库)  </p>
<p><strong>mysqli_set_charset</strong>(mysqli连接,  字符集编码)</p>
<p><strong>mysqli_select_db</strong>(mysqli连接, 数据库名) </p>
</blockquote>
<p><strong>==操作需求1==</strong>：使用MYSQLI实现连接数据库，选择默认的数据库为test，设置字符集为utf8操作。</p>
<p><strong>==解答==</strong>：构建code1.php程序页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//连接数据库和选择默认的数据库操作</span></span><br><span class="line">$link = mysqli_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">'123abc'</span>, <span class="string">'test'</span>);</span><br><span class="line">var_dump( $link ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用mysqli_connect函数所作的操作，相当于以前黑窗口中的</span></span><br><span class="line"><span class="comment">1. 登陆数据库操作；</span></span><br><span class="line"><span class="comment">2. 选择数据库操作；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置字符集操作</span></span><br><span class="line">$re = mysqli_set_charset($link, <span class="string">'utf8'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用mysqli_set_charset函数所作的操作，相当于以前黑窗口中的</span></span><br><span class="line"><span class="comment">3. 设置字符集的操作；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求2==</strong>：在”操作需求1”的基础上，实现切换选择数据库为db1数据库操作。</p>
<p><strong>==解答==</strong>：构建code2.php程序页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//连接数据库和选择默认的数据库操作</span></span><br><span class="line">$link = mysqli_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">'123abc'</span>, <span class="string">'test'</span>);</span><br><span class="line">var_dump( $link ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用mysqli_connect函数所作的操作，相当于以前黑窗口中的</span></span><br><span class="line"><span class="comment">1. 登陆数据库操作；</span></span><br><span class="line"><span class="comment">2. 选择数据库操作；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//设置字符集操作</span></span><br><span class="line">$re = mysqli_set_charset($link, <span class="string">'utf8'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用mysqli_set_charset函数所作的操作，相当于以前黑窗口中的</span></span><br><span class="line"><span class="comment">3. 设置字符集的操作；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">var_dump( $re ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//切换选择数据库</span></span><br><span class="line">$re = mysqli_select_db($link, <span class="string">'db1'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p><strong>==小结==</strong>：</p>
<ol>
<li>mysqli_connect能够实现两个操作，1）连接数据库操作；2）选择数据库操作；</li>
</ol>
<h3 id="2-2-4-设置-增删改-操作"><a href="#2-2-4-设置-增删改-操作" class="headerlink" title="2.2.4 设置(增删改)操作"></a>2.2.4 设置(增删改)操作</h3><p>使用MYSQLI实现设置操作  相当于  在黑窗口实现对数据表数据执行增、删、改SQL语句操作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mysqli_query</strong>(mysqli连接,  sql语句)</td>
<td>使用MYSQLI实现设置操作增、删、改SQL语句操作。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>涉及的函数：</p>
<p><strong>mysqli_query</strong>(mysqli连接,  sql语句)</p>
</blockquote>
<p><strong>==操作需求1==</strong>：使用MYSQLI操作day10数据库中的stu3表，实现往数据表stu3中新增一条数据的操作。</p>
<p><strong>==解答==</strong>：构建code4.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\15.png" alt="15"></p>
<p><strong>==操作需求2==</strong>：使用MYSQLI操作day10数据库中的stu3表，实现修改name为”吕雉”的数据age的值为10。</p>
<p><strong>==解答==</strong>：构建code5.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\16.png" alt="16"></p>
<p><strong>==操作需求3==</strong>：使用MYSQLI操作day10数据库中的stu3表，删除name为”钟离昧”的数据。</p>
<p><strong>==解答==</strong>：构建code6.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\17.png" alt="17"></p>
<p><strong>==小结==</strong>：在程序中，我们只需要通过mysqli_query执行增删改的SQL语句，就能够达到增删改数据表中的数据的效果。</p>
<h3 id="2-2-5-查询操作"><a href="#2-2-5-查询操作" class="headerlink" title="2.2.5 查询操作"></a>2.2.5 查询操作</h3><p>使用MYSQLI实现查询操作  相当于  在黑窗口查询SQL语句操作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mysqli_query</strong>(mysqli连接,  sql语句)</td>
<td>执行查询语句</td>
</tr>
<tr>
<td><strong>mysqli_fetch_assoc</strong>(结果集)</td>
<td>每次执行都只能获得一条数据；</td>
</tr>
<tr>
<td><strong>mysqli_fetch_row</strong>(结果集)</td>
<td>获得的是索引下标类型的数组。</td>
</tr>
<tr>
<td><strong>mysqli_fetch_all</strong>(结果集[, 数组形态])</td>
<td>获得的是关联和索引数组.MYSQLI_BOTH/ASSOC/NUM</td>
</tr>
</tbody>
</table>
<blockquote>
<p>涉及的函数：</p>
<p><strong>mysqli_query</strong>(mysqli连接,  sql语句)</p>
<p><strong>mysqli_fetch_assoc</strong>(结果集)</p>
<p><strong>mysqli_fetch_row</strong>(结果集)</p>
<p><strong>mysqli_fetch_all</strong>(结果集[, 数组形态])       数组形态可指定MYSQLI_ASSOC、MYSQLI_NUM（默认值）或MYSQLI_BOTH</p>
</blockquote>
<p>==操作需求1==**：使用MYSQLI操作day10数据库中的stu3表，查询age小于14的所有数据，要求得到的每条数据结果是一个关联数组。</p>
<p><strong>==解答==</strong>：构建code7.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\18.png" alt="18"></p>
<p><strong>==操作需求1小结==</strong>：</p>
<ol>
<li>mysqli_fetch_assoc每次执行都只能获得一条数据；</li>
<li>每次获得的数据是一个关联类型的数组数据，数组元素的下标就是字段名；</li>
<li>当获得玩最后一条数据之后，再次去执行该函数，则只会获得NULL值；</li>
</ol>
<p><strong>==操作需求2==</strong>：使用MYSQLI操作day10数据库中的stu3表，查询age小于14的所有数据，要求得到的每条数据结果是一个索引数组。</p>
<p><strong>==解答==</strong>：构建code8.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\20.png" alt="20"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>mysqli_fetch_row获得的是索引下标类型的数组。</li>
</ol>
<p><strong>==操作需求3==</strong>：</p>
<ol>
<li>使用MYSQLI操作day10数据库中的stu3表，查询age小于14的所有数据</li>
<li>要求一次性得到所有数据的结果；</li>
<li>数据结果分别要求输出关联数组数据一份，索引数组数据一份，同时包含关联和索引数组元素的数组一份；</li>
</ol>
<p><strong>==解答==</strong>：构建code9.php程序页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//连接数据库和选择默认的数据库操作</span></span><br><span class="line">$link = mysqli_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">'123abc'</span>, <span class="string">'day10'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置字符集操作</span></span><br><span class="line">$re = mysqli_set_charset($link, <span class="string">'utf8'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询操作</span></span><br><span class="line">$sql = <span class="string">"select * from stu3 where age&lt;14"</span>;</span><br><span class="line">$result = mysqli_query($link, $sql);<span class="comment">//执行查询语句</span></span><br><span class="line">var_dump( $result ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//解析结果集对象得到实际数据</span></span><br><span class="line"><span class="comment">//$rows = mysqli_fetch_all($result);//默认得到的是索引类型的所有数据</span></span><br><span class="line"><span class="comment">//echo '&lt;pre&gt;';</span></span><br><span class="line"><span class="comment">//print_r( $rows ); echo '&lt;br/&gt;';</span></span><br><span class="line"><span class="comment">//$rows = mysqli_fetch_all($result, MYSQLI_ASSOC);//指定MYSQLI_ASSOC将会获得关联类型数组的所有数据</span></span><br><span class="line"><span class="comment">//echo '&lt;pre&gt;';</span></span><br><span class="line"><span class="comment">//print_r( $rows ); echo '&lt;br/&gt;';</span></span><br><span class="line">$rows = mysqli_fetch_all($result, MYSQLI_BOTH);<span class="comment">//指定MYSQLI_BOTH将会即包含关联类型数组的数据，又包含索引类型数组的数据</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">print_r( $rows ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求3小结==</strong>：</p>
<ol>
<li>如果我们在项目中需要解析只有一条数据，我们通常用mysqli_fetch_assoc函数；</li>
<li>如果我们在项目中需要一次性解析多条数据，我们通常用mysqli_fetch_all函数；</li>
</ol>
<h3 id="2-2-6-MYSQLI辅助操作函数"><a href="#2-2-6-MYSQLI辅助操作函数" class="headerlink" title="2.2.6 MYSQLI辅助操作函数"></a>2.2.6 MYSQLI辅助操作函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mysqli_field_count</strong>(mysqli连接)</td>
<td>返回最近一次查询语句查询数据中的总列数</td>
</tr>
<tr>
<td><strong>mysqli_num_fields</strong>(结果集)</td>
<td>获得查询的结果集中字段的个数</td>
</tr>
<tr>
<td><strong>mysqli_num_rows</strong>(结果集)</td>
<td>获得查询结果集中记录的总行数</td>
</tr>
<tr>
<td><strong>mysqli_insert_id</strong>(mysqli连接)</td>
<td>获得最近一次新增数据的主键id值</td>
</tr>
<tr>
<td><strong>mysqli_errno</strong>(mysqli连接)</td>
<td>获得错误的错误码值</td>
</tr>
<tr>
<td><strong>mysqli_error</strong>(mysqli连接)</td>
<td>获得错误的错误码值对应的错误信息</td>
</tr>
</tbody>
</table>
<blockquote>
<p>涉及的函数：</p>
<p><strong>mysqli_field_count</strong>(mysqli连接)    返回最近一次查询语句查询数据中的总列数</p>
<p><strong>mysqli_num_fields</strong>(结果集)    获得查询的结果集中字段的个数</p>
<p><strong>mysqli_num_rows</strong>(结果集)    获得查询结果集中记录的总行数</p>
<p><strong>mysqli_errno</strong>(mysqli连接)        获得错误的错误码值</p>
<p><strong>mysqli_error</strong>(mysqli连接)        获得错误的错误码值对应的错误信息</p>
<p><strong>mysqli_insert_id</strong>(mysqli连接)         获得最近一次新增数据的主键id值</p>
</blockquote>
<p><strong>==操作需求1==</strong>：</p>
<ol>
<li>使用MYSQLI操作day10数据库中的stu3表，执行两次查询操作；</li>
<li>第一次查询所有数据，但是限制最终只获得2条数据；</li>
<li>第二次查询所有数据，但是限制最终只获得3条数据；</li>
<li>打印出最近一次查询语句查询数据中的总列数；</li>
<li>打印第一次查询结果中的总列数；</li>
<li>打印第一次查询结果集中数据的总行数；</li>
</ol>
<p><strong>==解答==</strong>：构建code10.php程序页面，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//连接数据库和选择默认的数据库操作</span></span><br><span class="line">$link = mysqli_connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">'123abc'</span>, <span class="string">'day10'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置字符集操作</span></span><br><span class="line">$re = mysqli_set_charset($link, <span class="string">'utf8'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询操作</span></span><br><span class="line">$sql = <span class="string">"select name, age from stu3 where 1 limit 2"</span>;</span><br><span class="line">$result = mysqli_query($link, $sql);</span><br><span class="line"></span><br><span class="line">$sql = <span class="string">"select * from stu3 where 1 limit 3"</span>;</span><br><span class="line">$result1 = mysqli_query($link, $sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得最近一次查询出的数据的总列数</span></span><br><span class="line">$colNum = mysqli_field_count($link);</span><br><span class="line">var_dump( $colNum ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印第一次查询结果中的总列数</span></span><br><span class="line">$colNum1 = mysqli_num_fields($result);</span><br><span class="line">var_dump( $colNum1 ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印第一次查询结果集中数据的总行数</span></span><br><span class="line">$rowNum = mysqli_num_rows($result);</span><br><span class="line">var_dump( $rowNum );</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求1小结==</strong>：</p>
<p>mysqli_field_count是获得最近一次查询结果的总列数；mysqli_num_fields是获得指定某一次查询结果集包含数据的总列数；mysqli_num_rows是获得指定某一次查询结果集包含数据的总行数；</p>
<p><strong>==操作需求2==</strong>：</p>
<ol>
<li>使用MYSQLI执行连库操作，要求要连库成功；同时执行设置字符集操作，要求设置的字符集为”utf8888”，使得设置字符集操作失败；</li>
<li>打印出MYSQLI操作失败的错误信息；</li>
<li>打印出MYSQLI操作失败错误信息对应的错误码值；</li>
</ol>
<p><strong>==解答==</strong>：构建code11.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\21.png" alt="21"></p>
<p><strong>==操作需求2小结==</strong>：</p>
<ol>
<li>mysqli_error可以获得出错的原因大致范围；mysqli_errno可以获得错误信息对应的错误码值；</li>
</ol>
<p><strong>==操作需求3==</strong>：</p>
<ol>
<li>使用MYSQLI操作day10数据库中的goods_info表，向数据表中新增一条数据；</li>
<li>打印出最近一次新增数据时的主键id；</li>
</ol>
<p><strong>==解答==</strong>：构建code12.php程序页面，代码如下</p>
<p><img src="\images\two\img_d12\22.png" alt="22"></p>
<p><strong>==操作需求3小结==</strong>：</p>
<p>mysqli_insert_id可以获得最近一次新增数据的主键id值。</p>
<h1 id="3-HTTP协议"><a href="#3-HTTP协议" class="headerlink" title="3. HTTP协议"></a>3. HTTP协议</h1><h2 id="3-1-概念"><a href="#3-1-概念" class="headerlink" title="3.1 概念"></a>3.1 概念</h2><h3 id="3-1-1-why学习HTTP协议"><a href="#3-1-1-why学习HTTP协议" class="headerlink" title="3.1.1 why学习HTTP协议"></a>3.1.1 why学习HTTP协议</h3><p>浏览器访问网站页面时，走的都是==HTTP协议==，如以下截图红框所示部分，标明的就是HTTP协议。</p>
<p><img src="\images\two\img_d13\1.png" alt="1"></p>
<p>作为一个将要从事web项目开发工作的开发者，对HTTP协议需要有一个基本的了解。</p>
<h3 id="3-1-2-what是HTTP协议"><a href="#3-1-2-what是HTTP协议" class="headerlink" title="3.1.2 what是HTTP协议"></a>3.1.2 what是HTTP协议</h3><p><strong>HTTP</strong>：Hyper Text Transfer Protocol  中文翻译为 “超文本传输协议”。</p>
<p>Mr ZHANG是英国人，只会说英语；宫本是日本人，只会说日语；两人想要相互沟通交流，如果都各自使用本国语言，那么对方都将听不懂。</p>
<p>为了能够让两个人无障碍相互沟通交流，让Mr ZHANG和宫本都学会中文，那么，两人就都能够使用中文进行交流了。而中文在这里就变成了两人之间沟通的一个协议。这个协议规定了两方向对方说话，按照某种语法来表达一个具体的意思。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Mr ZHANG(英国人)--&gt;宫本（日本人）: 使用中文说：&quot;早上好！&quot; 问候宫本</span><br><span class="line">Mr ZHANG(英国人)--&gt;宫本（日本人）: 使用中文说：&quot;早上好！&quot; 问候宫本</span><br><span class="line">note right of 宫本（日本人）:宫本按照中文的语法\n来理解&quot;早上好！&quot;的意思</span><br><span class="line">宫本（日本人）--&gt;Mr ZHANG(英国人): 使用中文说：&quot;早上好！&quot; 回复Mr ZHANG</span><br><span class="line">note left of Mr ZHANG(英国人):Mr ZHANG按照中文的语法\n来理解&quot;早上好！&quot;的意思</span><br></pre></td></tr></table></figure>
<p>而在web项目中，是浏览器和服务器之间进行交互的一个过程。也就意味着浏览器与服务器两方要通话。</p>
<p>而浏览器和服务器本身并不是同类，双方之间要想互相说话让对方听的明白，可以让双方都支持一个第三方的规定，通过这个规定来进行沟通交流。那么，HTTP协议，就是浏览器和服务器之间沟通的这个规定。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">浏览器--&gt;服务器: 使用HTTP协议规定的格式\n发出请求</span><br><span class="line">note right of 服务器:服务器按照HTTP协议规定的格式\n解析并处理请求内容</span><br><span class="line">服务器--&gt;浏览器: 使用HTTP协议规定的格式\n返回响应</span><br><span class="line">note left of 浏览器:浏览器按照HTTP协议规定的格式\n解析并处理响应内容</span><br></pre></td></tr></table></figure>
<p><strong>概念</strong>：HTTP协议，就是一种==规定==，它规定了浏览器请求服务器时，需要用什么样的格式发送请求数据；也规定了服务器响应浏览器时，需要用什么样的格式回应响应数据；这些对<strong>数据格式的规定</strong>就是HTTP协议。</p>
<h2 id="3-2-HTTP协议分类"><a href="#3-2-HTTP协议分类" class="headerlink" title="3.2 HTTP协议分类"></a>3.2 HTTP协议分类</h2><p>HTTP协议的分类包含两种：</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> HTTP请求</li>
<li style="list-style: none"><input type="checkbox" checked> HTTP响应</li>
</ul>
<h3 id="3-2-1-HTTP请求"><a href="#3-2-1-HTTP请求" class="headerlink" title="3.2.1 HTTP请求"></a>3.2.1 HTTP请求</h3><p>TIPS：我们可以理解成就是浏览器和服务器说的话。</p>
<p>包含四个组成部分：1）请求行；2）请求头；3）空白行；4）请求数据 </p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_d13\3.png" alt="3"></p>
<h4 id="1-请求行"><a href="#1-请求行" class="headerlink" title="1) 请求行"></a>1) 请求行</h4><p>包含基本的请求信息部分。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_d13\4.png" alt="4"></p>
<h4 id="2-请求头"><a href="#2-请求头" class="headerlink" title="2) 请求头"></a>2) 请求头</h4><p>由一个一个的==请求协议项==组成。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\5.png" alt="5"></p>
<p><strong>常见的请求头协议项</strong>：</p>
<blockquote>
<p><strong>host</strong>：当前url中所要请求的服务器的主机名（域名）<br><strong>accept-encoding</strong>：是浏览器发给服务器,声明浏览器支持的压缩编码类型  比如gzip<br><strong>accept_charset</strong>：表示浏览器支持的字符集<br><strong>==referer==</strong>：表示，此次请求来自哪个网址<br><strong>accept-language</strong>：可以接收的语言类型，cn，en等<br><strong>cookie</strong>：如果之前当前请求的服务器在浏览器端设置了数据（cookie），那么当前浏览器再次请求该服务器的时候，就会把对应的数据带过去<br><strong>user-agent</strong>：用户代理，当前发起请求的浏览器的内核信息<br><strong>accept</strong>：表示浏览器可以接收的数据类型<br><strong>content-length</strong>（==post==）：只有post提交的时候才会有的请求头，显示的是当前要提交的数据的长度（字节）<br><strong>if-modified-since</strong>（==get==）：表示，在客户端向服务器请求某个资源文件时，询问此资源文件是否被修改过<br>==<strong>content-type</strong>==（==post==）：用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件</p>
</blockquote>
<h4 id="3-空白行"><a href="#3-空白行" class="headerlink" title="3) 空白行"></a>3) 空白行</h4><p>专门用于分隔请求头和请求数据的结构。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\6.png" alt="6"></p>
<h4 id="4-请求数据"><a href="#4-请求数据" class="headerlink" title="4) 请求数据"></a>4) 请求数据</h4><p>只有当==post方式==提交数据时才会存在。</p>
<p><img src="\images\two\img_13\7.png" alt="7"></p>
<hr>
<h3 id="3-2-2-HTTP响应"><a href="#3-2-2-HTTP响应" class="headerlink" title="3.2.2 HTTP响应"></a>3.2.2 HTTP响应</h3><p>包含四个组成部分：1）状态行；2）响应头；3）空白行；4）响应数据 </p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\8.png" alt="8"></p>
<h4 id="1-状态行"><a href="#1-状态行" class="headerlink" title="1) 状态行"></a>1) 状态行</h4><p>包含基本的响应信息部分。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\9.png" alt="9"></p>
<p><strong>响应状态码</strong></p>
<p>1xx：表示请求尚未完成；</p>
<p>2xx：表示请求和响应都没有问题；</p>
<p>3xx：表示重定向；</p>
<p>4xx：表示请求出现问题，响应失败；</p>
<p>5xx：表示服务器出现问题，响应失败；</p>
<p><strong>常见的响应状态码</strong>：</p>
<p>200  表示请求和响应完全没有问题</p>
<p>301和302：表示永久重定向和临时重定向；    </p>
<p>404：表示请求的文件丢失或者找不到</p>
<p>500：表示服务器环境出现了问题</p>
<h4 id="2-响应头"><a href="#2-响应头" class="headerlink" title="2) 响应头"></a>2) 响应头</h4><p>由一个一个的响应协议项组成。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\10.png" alt="10"></p>
<p><strong>常见的响应头协议项</strong>：</p>
<blockquote>
<p><strong>server</strong>：服务器主机信息</p>
<p><strong>date</strong>：响应时间</p>
<p><strong>last-modified</strong>：文件最后修改时间（对应请求中：if-modified-since）</p>
<p><strong>content-length</strong>：响应主体的长度（字节）</p>
<p><strong>content-type</strong>：响应内容的数据类型：text/html，image/png等</p>
<p>==<strong>location</strong>==：重定向，浏览器遇到这个选项，就立马跳转（不会解析后面的内容）</p>
<p>==<strong>refresh</strong>==：重定向（刷新），浏览器遇到这个选项就会准备跳转，刷新一般有时间限制，时间到了才跳转，浏览器会继续向下解析</p>
<p><strong>content-encodeing</strong>：文件编码格式</p>
<p><strong>cache-control</strong>：缓存控制，no-cached不要缓存</p>
</blockquote>
<h4 id="3-空白行-1"><a href="#3-空白行-1" class="headerlink" title="3) 空白行"></a>3) 空白行</h4><p>专门用于分隔响应头和响应数据的结构。</p>
<p><strong>==图例==</strong>：</p>
<p><img src="\images\two\img_13\11.png" alt="11"></p>
<h4 id="4-响应数据"><a href="#4-响应数据" class="headerlink" title="4) 响应数据"></a>4) 响应数据</h4><p>包含完整的返回给浏览器的内容。</p>
<p><strong>==图例==</strong>：<img src="\images\two\img_13\12.png" alt="12"></p>
<hr>
<h2 id="3-3-HTTP协议特点"><a href="#3-3-HTTP协议特点" class="headerlink" title="3.3  HTTP协议特点"></a>3.3  HTTP协议特点</h2><p>1) 不仅支持B/S模式，还支持C/S模式。</p>
<p>2) 灵活，支持任意类型的数据。</p>
<p>3) ==无连接特性==，指的是每次完整的请求之后，本次连接要断开。</p>
<p>4) ==无状态特性==，HTTP协议对会话过程中产生的数据不具有记忆能力。</p>
<h2 id="3-4-HTTP协议的应用"><a href="#3-4-HTTP协议的应用" class="headerlink" title="3.4 HTTP协议的应用"></a>3.4 HTTP协议的应用</h2><h3 id="3-4-1-跳转"><a href="#3-4-1-跳转" class="headerlink" title="3.4.1 跳转"></a>3.4.1 跳转</h3><p><strong>==需求==</strong>：实现访问A页面就直接跳转到B页面的效果。</p>
<p><strong>==解答==</strong>：构建一个名为code2.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'当前文件名叫code2.php'</span>;</span><br><span class="line"></span><br><span class="line">header(<span class="string">'Location:http://www.home.com/class/day13/code/code3.php'</span>);</span><br></pre></td></tr></table></figure>
<p>构建一个名为code3.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'当前文件名叫code3.php'</span>;</span><br></pre></td></tr></table></figure>
<p>访问code2.php，浏览器展示的效果为：</p>
<p><img src="\images\two\img_13\13.png" alt="13"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>使用header指定Location跳转，并不是从服务器就直接跳转了，而是先将Location协议项响应给浏览器，再由浏览器重新向服务器发出新的请求来实现跳转效果的。</li>
</ol>
<h3 id="3-4-2-刷新跳转"><a href="#3-4-2-刷新跳转" class="headerlink" title="3.4.2 刷新跳转"></a>3.4.2 刷新跳转</h3><p><strong>==需求==</strong>：实现访问A页面，在A页面停留3秒钟展示提示信息”别眨眼，3秒后我就要跳转了！”，3秒后再跳转到B页面。</p>
<p><strong>==解答==</strong>：构建一个名为code4.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'别眨眼，3秒后我就要跳转了！'</span>;</span><br><span class="line">header(<span class="string">'Refresh:3; url=http://www.home.com/class/day13/code/code5.php'</span>);</span><br></pre></td></tr></table></figure>
<p>构建名为code5.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'这是code5'</span>;</span><br></pre></td></tr></table></figure>
<p>访问code4.php的效果：</p>
<h3 id="3-4-3-SSL安全访问协议"><a href="#3-4-3-SSL安全访问协议" class="headerlink" title="3.4.3 SSL安全访问协议"></a>3.4.3 SSL安全访问协议</h3><h4 id="1-https简介"><a href="#1-https简介" class="headerlink" title="1) https简介"></a>1) https简介</h4><p>HTTPS  即  Secure Hypertext Transfer Protocol  翻译为中文：<strong>安全的超文本传输协议</strong></p>
<blockquote>
<p>它是由Netscape开发并<strong>内置于其浏览器中</strong>，用于<strong>对数据进行压缩和解压操作</strong>，<strong>并用于网络传输</strong>的一种技术。</p>
<p>HTTPS实际上应用了Netscape的完全套接字层（SSL）作为HTTP应用层的子层。（==HTTPS使用端口443==，而不是象HTTP那样使用端口80来和TCP/IP进行通信。）SSL使用40 位关键字作为RC4流加密算法，这对于商业信息的加密是合适的。HTTPS和SSL支持使用<strong>X.509</strong>数字认证，如果需要的话用户可以确认发送者是谁。</p>
<p>https是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，https的安全基础是SSL。</p>
<p>它是一个URI scheme(抽象标识符体系)，句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。这个系统的最初研发由网景公司进行，提供了身份验证与加密通讯方法，现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。</p>
</blockquote>
<h4 id="2-配置SSL协议"><a href="#2-配置SSL协议" class="headerlink" title="2) 配置SSL协议"></a>2) 配置SSL协议</h4><p><strong>==目标==</strong>：使用  <a href="https://www.t1.com/t.php" target="_blank" rel="noopener">https://www.t1.com/t.php</a>  访问 day13/code目录中  的t.php文件。</p>
<p><strong>==步骤==</strong>：</p>
<p>第一步，将day13/source目录下的key文件夹拷贝到apache安装目录下的<strong>conf目录</strong>中</p>
<p><img src="\images\two\img_13\14.png" alt="14"></p>
<p>拷贝到下图所示的目录中</p>
<p><img src="\images\two\img_13\15.png" alt="15"></p>
<p>第二步，打开apache的配置文件httpd.conf，开启mod_socache_shmcb 和mod_ssl模块，同时开启引入ssl配置文件，</p>
<p>去掉下图中引入模块的注释，开启模块引入配置，</p>
<p><img src="\images\two\img_13\16.png" alt="16"></p>
<p>引入ssl配置文件，</p>
<p><img src="\images\two\img_13\17.png" alt="17"></p>
<p>第三步，调整apache安装目录下的extra/httpd-ssl.conf配置文件SSLSessionCache配置项的路径，同时注释VirtualHost示例，</p>
<p>调整如下图所示的路径：</p>
<p><img src="\images\two\img_13\18.png" alt="18"></p>
<p>注释掉如下图所示的配置项：将122行到291行全部注释掉</p>
<p><img src="\images\two\img_13\19.png" alt="19"></p>
<p>第四步，打开虚拟主机配置文件，增加如下虚拟主机配置项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#ssl默认监听的端口是443，所以如果要使用默认的端口，就不能再使用80，而应该使用443端口</span><br><span class="line">&lt;VirtualHost *:443&gt;</span><br><span class="line">#开启SSL引擎的支持</span><br><span class="line">	SSLEngine on</span><br><span class="line">#指定支持的SSL协议版本</span><br><span class="line">	SSLProtocol all -SSLv2 -SSLv3</span><br><span class="line">#SSL加密计算的方式</span><br><span class="line">	SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5</span><br><span class="line">#认证证书文件</span><br><span class="line">	SSLCertificateFile &quot;F:/usr/apache24/conf/key/server.crt&quot;</span><br><span class="line">#证书私钥</span><br><span class="line">	SSLCertificateKeyFile &quot;F:/usr/apache24/conf/key/server.key&quot;</span><br><span class="line">#根证书</span><br><span class="line">	SSLCertificateChainFile &quot;F:/usr/apache24/conf/key/ca.crt&quot;</span><br><span class="line">	DocumentRoot &quot;F:/home/class/day13/code&quot;</span><br><span class="line">	ServerName www.t1.com</span><br><span class="line">	&lt;Directory /&gt;</span><br><span class="line">	Options +Indexes +FollowSymLinks +ExecCGI</span><br><span class="line">	AllowOverride All</span><br><span class="line">	Order allow,deny</span><br><span class="line">	Allow from all</span><br><span class="line">	Require all granted</span><br><span class="line">	&lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>第五步，重启apache，向hosts文件中新增如下配置，</p>
<p><img src="\images\two\img_13\20.png" alt="20"></p>
<p>在hosts文件中增加如下配置，(C:/Windows/system32/drivers/etc/hosts)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1  www.t1.com</span><br></pre></td></tr></table></figure>
<p>第六步，在day13/code目录中创建名为t.php的程序文件，代码如下</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'灭嘿嘿嘿！HTTPS被我搞掂了～'</span>;</span><br></pre></td></tr></table></figure>
<p>第七步，在浏览器中使用  <a href="https://www.t1.com/t.php" target="_blank" rel="noopener">https://www.t1.com/t.php</a>  访问t.php，测试使用效果</p>
<p><img src="\images\two\img_13\21.png" alt="21"></p>
<hr>
<h1 id="4-文件编程"><a href="#4-文件编程" class="headerlink" title="4. 文件编程"></a>4. 文件编程</h1><h2 id="4-1-概念"><a href="#4-1-概念" class="headerlink" title="4.1 概念"></a>4.1 概念</h2><h3 id="4-1-1-why使用"><a href="#4-1-1-why使用" class="headerlink" title="4.1.1 why使用"></a>4.1.1 why使用</h3><p>在web项目中，文件编程的应用相当广泛，比如：文件下载（软件，电影，照片….），生成报表文件并支持下载功能等都需要使用到文件编程技术。</p>
<h3 id="4-1-2-what"><a href="#4-1-2-what" class="headerlink" title="4.1.2 what"></a>4.1.2 what</h3><p>所谓的文件编程技术，指的就是对==文件==或==目录==的==增删改查==操作！</p>
<h2 id="4-2-文件编程分类"><a href="#4-2-文件编程分类" class="headerlink" title="4.2 文件编程分类"></a>4.2 文件编程分类</h2><ul>
<li style="list-style: none"><input type="checkbox" checked> 对目录的操作</li>
<li style="list-style: none"><input type="checkbox" checked> 对文件的操作</li>
</ul>
<h3 id="4-2-1-对目录操作"><a href="#4-2-1-对目录操作" class="headerlink" title="4.2.1 对目录操作"></a>4.2.1 对目录操作</h3><p><strong>设置操作</strong>（增删改）</p>
<blockquote>
<p>涉及的函数：</p>
<p><strong>mkdir</strong>(新目录名[,  目录权限[,  是否递归创建]])      创建一个目录（make directory）</p>
<p><strong>rmdir</strong>(目录全路径)      删除一个目录（remove directory）</p>
<p><strong>rename</strong>(旧名字,  新名字)     给目录改名或转移目录</p>
</blockquote>
<p><strong>==操作需求1==</strong>：在code目录中执行创建目录操作，要求：</p>
<ol>
<li>创建名为dir1和dir2两个目录；</li>
<li>递归创建dir3/dir3_1/dir3_1_1目录；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code6.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建dir1目录和dir2目录</span></span><br><span class="line">$re = mkdir(<span class="string">'./dir1'</span>);</span><br><span class="line">var_dump( $re ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line">$re = mkdir(<span class="string">'F:/home/class/day13/code/dir2'</span>);</span><br><span class="line">var_dump( $re ); </span><br><span class="line"></span><br><span class="line"><span class="comment">//递归创建目录dir3/dir3_1/dir3_1_1</span></span><br><span class="line"><span class="comment">//$re = mkdir('./dir3/dir3_1/dir3_1_1');//默认情况下是不支持的</span></span><br><span class="line"><span class="comment">//var_dump( $re ); </span></span><br><span class="line"></span><br><span class="line">$re = mkdir(<span class="string">'./dir3/dir3_1/dir3_1_1'</span>, <span class="number">0777</span>, <span class="keyword">true</span>);<span class="comment">//把第三个参数设置为true，就可以递归的去创建目录及目录下的子目录</span></span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求1小结==</strong></p>
<ol>
<li>我们可以使用mkdir函数创建一个目录；</li>
<li>如果我们要递归的创建目录及目录中的子目录，则需要指定第三个参数为true；</li>
</ol>
<p><strong>==操作需求2==</strong>：在code目录中执行修改目录操作，要求：</p>
<ol>
<li>将dir1的目录名改为dir100；</li>
<li>将dir2目录转移到dir3目录中，并且重命名为dir200；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code7.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将dir1的目录名改为dir100</span></span><br><span class="line">$re = rename(<span class="string">'./dir1'</span>, <span class="string">'./dir100'</span>);</span><br><span class="line">var_dump( $re ); </span><br><span class="line"></span><br><span class="line"><span class="comment">#将dir2目录转移到dir3目录中，并且重命名为dir200</span></span><br><span class="line">$re = rename(<span class="string">'./dir2'</span>, <span class="string">'./dir3/dir200'</span>);</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求2小结==</strong></p>
<ol>
<li>我们可以使用rename函数修改目录的名字；</li>
<li>我们还可以使用rename将某个目录转移到另外一个目录中；</li>
</ol>
<p><strong>==操作需求3==</strong>：在code目录中执行删除目录操作，要求：</p>
<ol>
<li>将dir100删除；</li>
<li>尝试将dir3目录删除；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code8.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将dir100删除</span></span><br><span class="line">$re = rmdir(<span class="string">'./dir100'</span>);</span><br><span class="line">var_dump( $re ); </span><br><span class="line"></span><br><span class="line"><span class="comment">#尝试将dir3目录删除</span></span><br><span class="line">$re = rmdir(<span class="string">'./dir3'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求3小结==</strong></p>
<ol>
<li>我们可以使用rmdir删除某个目录；</li>
<li>删除的目录必须是没有内容的目录才能成功删除；</li>
</ol>
<p><strong>查询操作</strong></p>
<blockquote>
<p>涉及的函数：</p>
<p><strong>opendir</strong>(目录全路径)      打开一个目录</p>
<p><strong>readdir</strong>(打开的目录资源)      读取目录中的内容</p>
<p><strong>closedir</strong>(打开的目录资源)     关闭一个打开的目录</p>
</blockquote>
<p><strong>==操作需求==</strong>：查询code下的demo目录，要求：</p>
<ol>
<li>读取并输出该目录下的所有文件的文件名；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code9.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开一个目录</span></span><br><span class="line">$op = opendir(<span class="string">'./demo'</span>);</span><br><span class="line">var_dump( $op ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取目录内容</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第1次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第2次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第3次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第4次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第5次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第6次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第7次执行readdir的输出</span></span><br><span class="line">$rd = readdir($op);</span><br><span class="line">var_dump( $rd ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;<span class="comment">//第8次执行readdir的输出</span></span><br></pre></td></tr></table></figure>
<p>访问code9.php输出的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">resource(3) of type (stream)   #输出打开的目录资源$op的内容</span><br><span class="line">string(1) &quot;.&quot;                  #第1次执行readdir的输出</span><br><span class="line">string(2) &quot;..&quot;                 #第2次执行readdir的输出</span><br><span class="line">string(11) &quot;article.txt&quot;       #第3次执行readdir的输出</span><br><span class="line">string(4) &quot;dir1&quot; 			  #第4次执行readdir的输出</span><br><span class="line">string(4) &quot;dir2&quot; 			  #第5次执行readdir的输出</span><br><span class="line">string(4) &quot;dir3&quot; 			  #第6次执行readdir的输出</span><br><span class="line">bool(false) 				  #第7次执行readdir的输出</span><br><span class="line">bool(false) 				  #第8次执行readdir的输出</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求小结==</strong></p>
<ol>
<li>需要先使用opendir打开一个目录；</li>
<li>然后再使用readdir读取打开的资源中的内容；</li>
</ol>
<p><strong>查询辅助操作</strong></p>
<blockquote>
<p>涉及的函数：</p>
<p>==<strong>realpath</strong>==(路径)      将给定的路径转换为绝对路径地址</p>
<p><strong>==basename==</strong>(路径)      返回当前给定路径的基础文件（或文件夹）名部分</p>
<p>==<strong>dirname</strong>==(路径)      返回当前给定路径的目录部分</p>
<p><strong>is_dir</strong>(全路径)      判断一个给定文件是否是一个目录</p>
</blockquote>
<p><strong>==操作需求==</strong>：在code目录下对相对路径”./“进行操作，要求：</p>
<ol>
<li>将相对路径”./“转换为绝对路径，并将转换后的结果输出；</li>
<li>获得”1”中转换的绝对路径中的基础文件名并将其输出；</li>
<li>获得”1”中转换的绝对路径中的目录部分并将其输出；</li>
<li>判定”./code1.php”是否是一个目录；</li>
<li>判定”./dir3”是否是一个目录；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code10.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1. 将相对路径"./"转换为绝对路径</span></span><br><span class="line">$path = realpath(<span class="string">'./'</span>);</span><br><span class="line">var_dump( $path ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#2. 获得"1"中转换的绝对路径中的基础文件名</span></span><br><span class="line">$basename = basename($path);</span><br><span class="line">var_dump( $basename ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#3. 获得"1"中转换的绝对路径中的目录部分</span></span><br><span class="line">$dirname = dirname($path);</span><br><span class="line">var_dump( $dirname ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#4. 判定"./code1.php"是否是一个目录</span></span><br><span class="line">$re = is_dir(<span class="string">'./code1.php'</span>);</span><br><span class="line">var_dump( $re ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#5. 判定"./dir3"是否是一个目录</span></span><br><span class="line">$re = is_dir(<span class="string">'./dir3'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p>访问code10.php输出的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string(24) &quot;F:\home\class\day13\code&quot;   #第 1 点的输出</span><br><span class="line">string(4) &quot;code&quot;   					   #第 2 点的输出</span><br><span class="line">string(19) &quot;F:\home\class\day13&quot; 	    #第 3 点的输出</span><br><span class="line">bool(false) 						  #第 4 点的输出，为false表示不是一个目录</span><br><span class="line">bool(true)							  #第 5 点的输出，为true表示是一个目录</span><br></pre></td></tr></table></figure>
<p><strong>==操作需求小结==</strong></p>
<ol>
<li>realpath将相对路径专为绝对路径；</li>
<li>basename将会获得一个路径的基础文件名部分；</li>
<li>dirname将会获得一个路径的目录部分；</li>
</ol>
<h3 id="4-2-2-对文件操作"><a href="#4-2-2-对文件操作" class="headerlink" title="4.2.2 对文件操作"></a>4.2.2 对文件操作</h3><p>因php版本更替原因，在php中对文件的操作分为两类：</p>
<ul>
<li style="list-style: none"><input type="checkbox"> php4相关文件操作</li>
<li style="list-style: none"><input type="checkbox"> php5相关文件操作</li>
</ul>
<p><strong>PHP4相关文件操作</strong></p>
<p>涉及的函数：</p>
<blockquote>
<p><strong>fopen</strong>(文件全路径,  打开模式)    打开一个文件</p>
<p><strong>fread</strong>(打开的文件资源,  读取内容的长度)    读取文件中的内容</p>
<p><strong>fwrite</strong>(打开的文件资源,  写入的内容)    向文件中写入内容</p>
<p><strong>fclose</strong>(打开的文件资源)    关闭打开的文件</p>
<p><strong>filesize</strong>(文件全路径)  获取文件的大小</p>
</blockquote>
<p><strong>==操作需求==</strong>：操作code目录下的article.txt文件，要求：</p>
<ol>
<li>将文件中的所有内容读取并输出；</li>
<li>向文件中最末尾写入”这是一篇好文章”；</li>
<li>关闭打开的文件；</li>
</ol>
<p><strong>==解答==</strong>：构建一个名为code11.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取文件的内容</span></span><br><span class="line"><span class="comment">//$fp = fopen('./article.txt', 'r');//打开一个文件，如果指定r模式，则为只读模式</span></span><br><span class="line">$fp = fopen(<span class="string">'./article.txt'</span>, <span class="string">'a+'</span>);<span class="comment">//打开一个文件</span></span><br><span class="line">var_dump( $fp ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line">$size = filesize(<span class="string">'./article.txt'</span>);<span class="comment">//获得指定文件的大小，单位是字节</span></span><br><span class="line">var_dump( $size ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line">$content = fread($fp, $size);<span class="comment">//读取文件中的所有内容</span></span><br><span class="line"><span class="keyword">echo</span> $content; <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#往文件中写入内容</span></span><br><span class="line">$con = <span class="string">'这是一篇好文章'</span>;</span><br><span class="line">$re = fwrite($fp, $con);<span class="comment">//往文件中写入内容</span></span><br><span class="line">var_dump( $re ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭打开的文件</span></span><br><span class="line">$re = fclose($fp);</span><br><span class="line">var_dump( $re ); <span class="keyword">echo</span> <span class="string">'&lt;br/&gt;'</span>;</span><br><span class="line">var_dump( $fp );</span><br></pre></td></tr></table></figure>
<p><strong>==小结==</strong>：</p>
<ol>
<li>我们能对之后打开的文件做什么样的操作，取决于fopen打开文件是指定的第二个参数是什么模式。</li>
</ol>
<h3 id="4-2-3-PHP5相关文件操作"><a href="#4-2-3-PHP5相关文件操作" class="headerlink" title="4.2.3 PHP5相关文件操作"></a>4.2.3 PHP5相关文件操作</h3><p>涉及的函数：</p>
<blockquote>
<p><strong>file_put_contents</strong>(文件全路径,  写入的内容[,  写入方式])      向文件中写入内容   ​写入方式可指定为FILE_APPEND</p>
<p><strong>file_get_contents</strong>(文件全路径)      获得文件中的内容</p>
</blockquote>
<p><strong>==演示案例==</strong>：读取article.txt文件中的内容，并且向article.txt文件中写入”好酒哇！”内容</p>
<p>实现：构建名为code12.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#读取文件中的内容</span></span><br><span class="line">$contents = file_get_contents(<span class="string">'./article.txt'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $contents; <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#向文件中写入内容</span></span><br><span class="line">$target = <span class="string">'好酒哇！'</span>;</span><br><span class="line"><span class="comment">//$re = file_put_contents('./article.txt', $target);//不指定第三个参数，则默认是覆盖写入</span></span><br><span class="line">$re = file_put_contents(<span class="string">'./article.txt'</span>, $target, FILE_APPEND);<span class="comment">//如果指定第三个参数为FILE_APPEND则表示是追加写入</span></span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p><strong>==小结==</strong>：在写入内容是如果不指定第三个参数，则默认是覆盖写入；如果要实现追加写入，则需要指定第三个值为FILE_APPEND。</p>
<h2 id="4-3-案例：文件下载"><a href="#4-3-案例：文件下载" class="headerlink" title="4.3 案例：文件下载"></a>4.3 案例：文件下载</h2><p><strong>==操作需求==</strong>：实现文件下载功能，要求：</p>
<ol>
<li>通过下载页面可以下载code/dw目录中的txt文件和zip文件；</li>
<li>下载txt文件指定默认的新名字为a.txt；zip文件指定默认的新名字为b.zip；</li>
</ol>
<p><strong>==步骤==</strong>：</p>
<p>第一步，构建名为code13.php的程序页面，代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>文件下载<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.home.com/class/day13/code/code14.php?type=1"</span>&gt;</span>下载txt文件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.home.com/class/day13/code/code14.php?type=2"</span>&gt;</span>下载zip文件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HTML</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，构建名为code14的程序处理页面，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( $_GET[<span class="string">'type'</span>]==<span class="number">1</span> )&#123;<span class="comment">//表示需要下载txt文件</span></span><br><span class="line"></span><br><span class="line">    $oriFileName = <span class="string">'./dw/article.txt'</span>;<span class="comment">//原始文件的全路径</span></span><br><span class="line">    $newFileName = <span class="string">'a.txt'</span>;<span class="comment">//下载之后的新名字</span></span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">elseif</span>( $_GET[<span class="string">'type'</span>]==<span class="number">2</span> )&#123;<span class="comment">//表示需要下载zip文件</span></span><br><span class="line"></span><br><span class="line">    $oriFileName = <span class="string">'./dw/fscp.zip'</span>;</span><br><span class="line">    $newFileName = <span class="string">'b.zip'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//表示 服务器告诉浏览器  接下来响应给浏览器你的内容类型是文件流的数据类型</span></span><br><span class="line">header(<span class="string">'Content-type:application/octet-stream'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//表示 服务器告诉浏览器 接下来响应给你浏览器的内容需要当成附件（文件）的形式来对待，这个附件的新名字为filename所指定的名称</span></span><br><span class="line">header(<span class="string">"Content-disposition:attachment; filename=&#123;$newFileName&#125;"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//这个是最终将会输出给浏览器的内容</span></span><br><span class="line"><span class="keyword">echo</span> file_get_contents($oriFileName);</span><br></pre></td></tr></table></figure>
<p>第三步，测试使用效果：</p>
<p>访问code13.php，点击下载txt文件，</p>
<p><img src="\images\two\img_13\22.png" alt="22"></p>
<p>点击之后，弹出上图所示下载框，新名字为a.txt，</p>
<p>然后选择下载路径，直接下载，</p>
<p><img src="\images\two\img_13\23.png" alt="23"></p>
<hr>
<hr>
<h1 id="5-会话技术"><a href="#5-会话技术" class="headerlink" title="5.会话技术"></a>5.会话技术</h1><h2 id="5-1-概念"><a href="#5-1-概念" class="headerlink" title="5.1 概念"></a>5.1 概念</h2><h3 id="5-1-1-why使用会话技术"><a href="#5-1-1-why使用会话技术" class="headerlink" title="5.1.1 why使用会话技术"></a>5.1.1 why使用会话技术</h3><p>1)我们访问网站走的是HTTP协议，协议具有无连接无状态的特性，对事物的处理不具有记忆能力；</p>
<p>2)我们在web项目中，很多时候需要将会话数据记忆存储，以便后续的程序能够随时调用和使用；</p>
<p>在web项目中我们可以通过会话技术解决以上问题。</p>
<h3 id="5-1-2-what是会话技术"><a href="#5-1-2-what是会话技术" class="headerlink" title="5.1.2 what是会话技术"></a>5.1.2 what是会话技术</h3><p>通俗的讲：会话技术就是浏览器和服务器“唠嗑”。</p>
<p><strong>==概念==</strong>：在web页面访问过程中，使访问过程中产生的数据持久化存储的一种技术。</p>
<h2 id="5-2-会话技术分类"><a href="#5-2-会话技术分类" class="headerlink" title="5.2. 会话技术分类"></a>5.2. 会话技术分类</h2><ul>
<li><p>[ ]  COOKIE技术；</p>
</li>
<li><p>[ ]  SESSION技术；</p>
</li>
</ul>
<h2 id="5-3-COOKIE技术"><a href="#5-3-COOKIE技术" class="headerlink" title="5.3 COOKIE技术"></a>5.3 COOKIE技术</h2><p><strong>概念</strong>：将数据持久化存储在<strong>浏览器端</strong>，并且能够<strong>使数据标识服务器</strong>的一种技术。</p>
<h3 id="5-3-1-基本操作"><a href="#5-3-1-基本操作" class="headerlink" title="5.3.1 基本操作"></a>5.3.1 基本操作</h3><h4 id="1-设置操作-增删改"><a href="#1-设置操作-增删改" class="headerlink" title="1) 设置操作 (增删改)"></a>1) 设置操作 (增删改)</h4><hr>
<p>涉及函数：</p>
<blockquote>
<p><strong>setcookie</strong>(名,  值)       设置COOKIE数据</p>
</blockquote>
<p><strong>==需求==</strong>：分别实现增、删、改COOKIE数据的操作，要求</p>
<ol>
<li>访问code1.php文件，实现新增一条COOKIE数据，名为：name，值为：zhangsan；</li>
<li>访问code2.php文件，实现修改”1”中新增的COOKIE数据，新值为：lisi；</li>
<li>访问code3.php文件，实现删除COOKIE数据name；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>构建名为code1.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#1.新增COOKIE数据</span></span><br><span class="line">$re = setcookie(<span class="string">'name'</span>, <span class="string">'zhangsan'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p>访问code1.php, 效果为：</p>
<p><img src="\images\two\img_d14\4.jpg" alt="4"></p>
<hr>
<ol start="2">
<li>构建名为code2.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#1.修改COOKIE数据   名不变，值改变</span></span><br><span class="line">$re = setcookie(<span class="string">'name'</span>, <span class="string">'lisi'</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p>访问code2.php, 效果为：</p>
<p><img src="\images\two\img_d14\5.jpg" alt="5"></p>
<hr>
<ol start="3">
<li>构建名为code3.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#1.删除COOKIE数据   名不变，值变为空字符串</span></span><br><span class="line">$re = setcookie(<span class="string">'name'</span>, <span class="string">''</span>);</span><br><span class="line">var_dump( $re );</span><br></pre></td></tr></table></figure>
<p>访问code3.php, 效果为：</p>
<p><img src="\images\two\img_d14\6.jpg" alt="6"></p>
<p><strong>==小结==</strong>：</p>
<p>我们只需要统一使用setcookie函数来进行增、删、改COOKIE数据的操作即可。</p>
<hr>
<h4 id="2-查看操作"><a href="#2-查看操作" class="headerlink" title="2) 查看操作"></a>2) 查看操作</h4><p>使用$_COOKIE 变量来操作</p>
<p><strong>==需求==</strong>：分别查看COOKIE数据的操作，要求</p>
<ol>
<li>访问code4.php文件，实现新增两条COOKIE数据，第一条名为：name，值为：wangwu，第二条名为：age，值为：16；</li>
<li>访问code5.php文件，实现新增一条COOKIE数据名为：height，值为：1.78，同时查看并打印所有的COOKIE数据；</li>
<li>访问code6.php文件，查看并打印出所有的COOKIE数据；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>构建名为code4.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#新增两条COOKIE数据</span></span><br><span class="line">$re = setcookie(<span class="string">'name'</span>,<span class="string">'wangwu'</span>);</span><br><span class="line">var_dump($re);<span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line"></span><br><span class="line">$re = setcookie(<span class="string">'age'</span>,<span class="number">16</span>);</span><br><span class="line">var_dump($re);</span><br></pre></td></tr></table></figure>
<p>访问code4.php, 效果为：</p>
<p><img src="\images\two\img_d14\7.jpg" alt="7"></p>
<hr>
<ol start="2">
<li>构建名为code5.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#新增一条COOKIE数据</span></span><br><span class="line">setcookie(<span class="string">'height'</span>, <span class="number">1.78</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#打印所有的COOKIE数据，需要使用$_COOKIE</span></span><br><span class="line">var_dump( $_COOKIE );</span><br></pre></td></tr></table></figure>
<p>访问code5.php, 效果为：</p>
<p><img src="\images\two\img_d14\8.jpg" alt="8"></p>
<hr>
<ol start="3">
<li>构建名为code6.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"&lt;pre&gt;"</span>;</span><br><span class="line">	<span class="comment">#打印所有的COOKIE数据，需要使用$_COOKIE</span></span><br><span class="line">	var_dump($_COOKIE);</span><br></pre></td></tr></table></figure>
<p>访问code6.php, 效果为：</p>
<p><img src="\images\two\img_d14\9.jpg" alt="9"></p>
<p><strong>==小结==</strong>：我们需要通过$_COOKIE实现查看COOKIE数据；</p>
<hr>
<p><strong>==提问==</strong>：在访问code4.php时首先生成了两条COOKIE数据，然后再访问code5.php时在程序中又新增了一条COOKIE数据，按道理来说一共现在有3条COOKIE数据，但是访问code5.php时只打印出了code4.php中生成的2条，然而，再访问新的文件code6.php时却能够打印三条，为什么呢？</p>
<h3 id="5-3-2-基本原理"><a href="#5-3-2-基本原理" class="headerlink" title="5.3.2 基本原理"></a>5.3.2 基本原理</h3><p><strong>==原理图==</strong>：</p>
<p><img src="\images\two\img_d14\10.png" alt="10"></p>
<p><strong>==小结==</strong>：通过分析以上原理图，我们了解到：</p>
<ol>
<li>COOKIE数据是存储在<strong>浏览器</strong>的；</li>
<li>如果浏览器存在和某台服务器之前会话时产生过的COOKIE数据，那么在以后的请求当中，将会把所有的COOKIE数据跟着请求一并携带去服务器；</li>
</ol>
<h3 id="5-3-3-setcookie与-COOKIE的关系"><a href="#5-3-3-setcookie与-COOKIE的关系" class="headerlink" title="5.3.3 setcookie与$_COOKIE的关系"></a>5.3.3 setcookie与$_COOKIE的关系</h3><p><strong>==关系图==</strong>：</p>
<p><img src="\images\two\img_d14\11.png" alt="11"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li><p><strong>setcookie</strong>只是负责在响应浏览器时，<strong>告诉浏览器</strong>接下来需要去设置一条什么样的COOKIE数据的，setcookie函数是<strong>不会去直接操作到$_COOKIE变量</strong>；</p>
</li>
<li><p>每次执行程序之前，将会由<strong>PHP自动初始化$_COOKIE变量</strong>；如果请求时，有携带浏览器传递过来的COOKIE数据，则把这些数据初始化给$_COOKIE变量；如果请求时，浏览器没有传递任何COOKIE数据过来，则将把</p>
<p>$_COOKIE初始化成空数组；</p>
</li>
</ol>
<h3 id="5-3-4-属性设置"><a href="#5-3-4-属性设置" class="headerlink" title="5.3.4 属性设置"></a>5.3.4 属性设置</h3><p>setcookie除了前两个参数表示名和值之外，还有五个属性相关的参数，分别是： </p>
<blockquote>
<p><strong>setcookie</strong>(名, 值, <strong>有效期</strong>，<strong>有效路径</strong>，<strong>有效域</strong>，<strong>是否安全传输</strong>，<strong>httponly</strong>);</p>
</blockquote>
<h4 id="1-有效期"><a href="#1-有效期" class="headerlink" title="1) 有效期"></a>1) 有效期</h4><hr>
<p><strong>要点</strong>：</p>
<ul>
<li>通过setcookie函数的<strong>第三个</strong>参数来进行设置的；</li>
<li><strong>不设置</strong>或<strong>设置为0</strong>表示<strong>默认</strong>情况，为一个会话周期；</li>
<li><strong>默认</strong>情况一个会话周期为从新增该条COOKIE到<strong>浏览器关闭</strong>为止。</li>
</ul>
<p><strong>==需求==</strong>：</p>
<ol>
<li>新增一条COOKIE数据，名为：name1，值为：zhaoliu；同时设置这条COOKIE数据的有效期为当前时间过3秒失效。</li>
</ol>
<p><strong>==解答==</strong>：构建名为code7.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#设置COOKIE数据的有效期</span></span><br><span class="line">setcookie(<span class="string">'name1'</span>, <span class="string">'zhaoliu'</span>, time()+<span class="number">3</span>);<span class="comment">//这个有效期的意思是 从当前时间到过3秒过期</span></span><br><span class="line">setcookie(<span class="string">'name'</span>, <span class="string">'zhangsan'</span>);</span><br></pre></td></tr></table></figure>
<p>访问code7.php，观察监控面板效果：</p>
<p>访问时，生成的COOKIE数据</p>
<p><img src="\images\two\img_d14\10.jpg" alt="10"></p>
<p>3秒后，刷新监控面板，发现被浏览器自动清除了，说明有效期生效</p>
<p><img src="\images\two\img_d14\13.jpg" alt="13"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>我们可以通过第三个参数设置有效期；</li>
<li>如果我们将第三个参数的有效期设置为一个过期的时间戳，则效果和删除一条COOKIE数据的效果一致。</li>
</ol>
<h4 id="2-有效路径"><a href="#2-有效路径" class="headerlink" title="2) 有效路径"></a>2) 有效路径</h4><hr>
<p><strong>要点</strong>：</p>
<ul>
<li>通过setcookie函数的<strong>第四个</strong>参数来进行设置的；</li>
<li><strong>不设置</strong>或<strong>设置为空字符串</strong>表示<strong>默认</strong>情况；</li>
<li>默认情况表示当前程序<strong>所在目录</strong>及<strong>其子目录</strong>有效。</li>
</ul>
<p><strong>==需求==</strong>：在code目录中创建名为code9.php的程序文件，新增2条COOKIE数据，</p>
<ol>
<li>第一条名为：name2，值为：zhaoliu2，不设置其他属性；第二条名为：name3，值为：zhaoliu3，要求这条COOKIE数据的有效路径为”/“；</li>
<li>在当前目录中新建一个新目录demo1，在新目录中创建一个新的程序文件code_demo.php，打印出所有能够获得的COOKIE数据；</li>
<li>在code目录的上级目录中创建一个新的程序文件code_up.php，打印出所有能够获得的COOKIE数据；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>在code目录下构建名为code9.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#有效路径</span></span><br><span class="line">setcookie(<span class="string">'name1'</span>, <span class="string">'zhaoliu1'</span>);</span><br><span class="line">setcookie(<span class="string">'name2'</span>, <span class="string">'zhaoliu2'</span>, <span class="number">0</span>, <span class="string">'/'</span>);</span><br></pre></td></tr></table></figure>
<p>访问code9.php，观察监控面板效果：</p>
<p><img src="\images\two\img_d14\14.jpg" alt="14"></p>
<hr>
<ol start="2">
<li>在code新建一个新目录demo1，并且在新目录中创建一个新的程序文件code_demo.php，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">var_dump( $_COOKIE );</span><br></pre></td></tr></table></figure>
<p>访问code_demo.php文件，观察打印效果：</p>
<p><img src="\images\two\img_d14\15.png" alt="15"></p>
<hr>
<ol start="3">
<li>在code目录的上级目录创建一个新的程序文件code_up.php，代码如下</li>
</ol>
<p><img src="\images\two\img_d14\16.jpg" alt="16"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>通过第四个参数设置有效路径；</li>
<li>如果将有效路径设置为”/“表示网站根目录及其子目录下都能访问；</li>
</ol>
<hr>
<h4 id="3-有效域"><a href="#3-有效域" class="headerlink" title="3) 有效域"></a>3) 有效域</h4><p><strong>要点</strong>：</p>
<ul>
<li>通过setcookie函数的<strong>第五个</strong>参数来进行设置的；</li>
<li><strong>不设置</strong>或<strong>设置为空字符串</strong>表示<strong>默认</strong>情况；</li>
<li><strong>默认</strong>情况表示<strong>当前域名</strong>及<strong>其子域名</strong>有效。</li>
</ul>
<p><strong>==需求==</strong>：完成以下要求：</p>
<ol>
<li>配置一个新的域名”test.code.com”和已有的<a href="http://www.code.com域名指向相同的目录；" target="_blank" rel="noopener">www.code.com域名指向相同的目录；</a></li>
<li>构建名为code10.php的程序文件，使用<a href="http://www.code.com域名访问，实现新增两条COOKIE数据，第一条名为：name4，值为：zhaoliu4，不设置其他属性；第二条名为：name5，值为：zhaoliu5，要求这条COOKIE数据的有效域为&quot;code.com&quot;；" target="_blank" rel="noopener">www.code.com域名访问，实现新增两条COOKIE数据，第一条名为：name4，值为：zhaoliu4，不设置其他属性；第二条名为：name5，值为：zhaoliu5，要求这条COOKIE数据的有效域为&quot;code.com&quot;；</a></li>
<li>构建code11.php文件，在文件中实现打印所有COOKIE数据操作，观察使用<a href="http://www.code.com访问时的效果和test.code.com访问时的效果；" target="_blank" rel="noopener">www.code.com访问时的效果和test.code.com访问时的效果；</a></li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>首先打开apache的虚拟主机配置文件，新增test.home.com虚拟主机域名配置项，参照<a href="http://www.home.com的配置，如下图所示，" target="_blank" rel="noopener">www.home.com的配置，如下图所示，</a></li>
</ol>
<p><img src="\images\two\img_d14\17.jpg" alt="17"></p>
<hr>
<ol start="2">
<li>构建名为code10.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    <span class="comment">#有效路径</span></span><br><span class="line">	setcookie(<span class="string">'name4'</span>,<span class="string">'zhaoliu4'</span>);</span><br><span class="line">	setcookie(<span class="string">'name5'</span>,<span class="string">'zhaoliu5'</span>,<span class="number">0</span>,<span class="string">""</span>,<span class="string">"code.com"</span>);</span><br></pre></td></tr></table></figure>
<p>使用<a href="http://www.code.com域名访问code10.php，观察监控面板效果：" target="_blank" rel="noopener">www.code.com域名访问code10.php，观察监控面板效果：</a></p>
<p><img src="\images\two\img_d14\18.jpg" alt="18"></p>
<p><strong>tips</strong>:  <a href="http://www.code.com" target="_blank" rel="noopener">www.code.com</a> 和 test.code.com 为 code.com的子域名</p>
<hr>
<ol start="3">
<li>构建名为code11.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"&lt;pre&gt;"</span>;</span><br><span class="line">	var_dump($_COOKIE);</span><br></pre></td></tr></table></figure>
<p> 1）使用<a href="http://www.code.com访问，效果为：" target="_blank" rel="noopener">www.code.com访问，效果为：</a></p>
<p><img src="\images\two\img_d14\19.jpg" alt="19"></p>
<p>2)使用test.home.com访问，效果为：</p>
<p><img src="\images\two\img_d14\20.jpg" alt="20"></p>
<p>tips： test.home.com 和 <a href="http://www.code.com" target="_blank" rel="noopener">www.code.com</a> 同级 所以访问不到</p>
<p><strong>==小结==</strong>：有效域最多只能设置到网站的根目录。</p>
<hr>
<h4 id="4-是否安全传输"><a href="#4-是否安全传输" class="headerlink" title="4) 是否安全传输"></a>4) 是否安全传输</h4><p><strong>要点</strong>：</p>
<ul>
<li>通过setcookie函数的<strong>第六个</strong>参数来进行设置的；</li>
<li><strong>不设置</strong>或<strong>设置为false</strong>表示默认情况；</li>
<li><strong>默认</strong>情况表示<strong>http或https下都有效</strong>，如果将值设置为true,则表示只有在https下才有效（包括增删改查）。</li>
</ul>
<p><strong>==需求==</strong>：完成以下要求：</p>
<ol>
<li>在day14/code/code13.php新增1条COOKIE数据，名为：name6，值为：zhaoliu6，将是否安全传输出行设置为true，使用<a href="http://www.home.com域名访问，查看执行效果；" target="_blank" rel="noopener">http://www.home.com域名访问，查看执行效果；</a></li>
<li>在day13/code/code_day4.php新增1条COOKIE数据，名为：name6，值为：zhaoliu6，将是否安全传输出行设置为true，使用<a href="https://www.t1.com域名访问，查看执行效果；" target="_blank" rel="noopener">https://www.t1.com域名访问，查看执行效果；</a></li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>在day14/code构建名为code13.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	setcookie(<span class="string">'name6'</span>,<span class="string">'zhaoliu6'</span>,<span class="number">0</span>,<span class="string">""</span>,<span class="string">""</span>,<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
<p>1）使用<a href="http://www.home.com域名访问code13.php，观察监控面板效果：" target="_blank" rel="noopener">http://www.home.com域名访问code13.php，观察监控面板效果：</a></p>
<p><img src="\images\two\img_d14\21.jpg" alt="21"></p>
<p>2)使用<a href="https://www.t1.com域名访问code_day4.php，观察监控面板效果：" target="_blank" rel="noopener">https://www.t1.com域名访问code_day4.php，观察监控面板效果：</a></p>
<p><img src="\images\two\img_d14\22.png" alt="22"></p>
<p><strong>==小结==</strong>：如果只是想在https下设置COOKIE成功，则需要将第六个参数设置为true。</p>
<hr>
<h4 id="5-httponly"><a href="#5-httponly" class="headerlink" title="5) httponly"></a>5) httponly</h4><p><strong>要点</strong>：</p>
<ul>
<li>通过setcookie函数的<strong>第七个</strong>参数来进行设置的；</li>
<li><strong>不设置</strong>或<strong>设置为false</strong>表示默认情况；</li>
<li><strong>默认</strong>情况表示除了能够使用原程序脚本代码访问以外，<strong>还能够通过其他脚本语言访问到COOKIE数据</strong>。如果设置为true，则表示<strong>只</strong>允许原程序脚本代码进行操作。</li>
</ul>
<p><strong>==需求==</strong>：实现如下操作，要求：</p>
<ol>
<li><p>构建code14.php程序文件，新增三条COOKIE数据，第一条数据名为：name，值为：zhangsan；第二条数据名为：age，值为：16；第三条数据名为：name1，值为：zhaoliu1，要求第三条数据设置httponly属性为true；</p>
</li>
<li><p>构建code15.php程序文件，使用PHP打印出所有的COOKIE数据；同时使用javascript代码也打印能够获取的COOKIE数据；</p>
</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>构建code14.php，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">setcookie(<span class="string">'name'</span>, <span class="string">'zhangsan'</span>);</span><br><span class="line">setcookie(<span class="string">'age'</span>, <span class="number">16</span>);</span><br><span class="line">setcookie(<span class="string">'name1'</span>, <span class="string">'zhaoliu1'</span>, <span class="number">0</span>, <span class="string">''</span>, <span class="string">''</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);<span class="comment">//第七个参数为控制httponly属性的</span></span><br></pre></td></tr></table></figure>
<p>访问code14.php，监控面板观察新增的COOKIE数据如下：</p>
<p><img src="\images\two\img_d14\22.jpg" alt="22"></p>
<hr>
<ol start="2">
<li>构建code15.php，代码如下：    </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">print_r($_COOKIE);</span><br><span class="line">echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">alert(document.cookie);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>访问code15.php，观察效果：</p>
<p>javascript输出内容为：</p>
<p><img src="\images\two\img_d14\23.jpg" alt="23"></p>
<p>php输出内容为：</p>
<p><img src="\images\two\img_d14\24.jpg" alt="24"></p>
<p><strong>==小结==</strong>：如果将httponly属性设置为true,则表示只允许原程序脚本代码访问这条COOKIE数据。</p>
<hr>
<h3 id="5-3-5-局限"><a href="#5-3-5-局限" class="headerlink" title="5.3.5 局限"></a>5.3.5 局限</h3><p>1）COOKIE数据保存在浏览器端（用户机器上），不可控因素高，安全性相对低。</p>
<p>2）每次请求都会携带所有的COOKIE数据，如果数据量大，将占用大量的带宽，降低网站加在效率。</p>
<p>正因以上局限性，SESSION技术应运而生！</p>
<h2 id="5-4-SESSION技术"><a href="#5-4-SESSION技术" class="headerlink" title="5.4 SESSION技术"></a>5.4 SESSION技术</h2><p><strong>概念</strong>：将数据持久化存储在<strong>服务器端</strong>，并且是数据能够<strong>区分不同的浏览器</strong>的一种技术。</p>
<h3 id="5-4-1-基本操作"><a href="#5-4-1-基本操作" class="headerlink" title="5.4.1 基本操作"></a>5.4.1 基本操作</h3><p>对SESSION数据的基本操作包括：设置操作（<strong>增删改</strong>）和查询操作。</p>
<p><strong>==需求==</strong>：分别实现增、删、改、查SESSION数据的操作，要求</p>
<ol>
<li>访问code16.php文件，实现新增一条SESSION数据，名为：name，值为：zhangsan；</li>
<li>访问code17.php文件，实现修改”1”中新增的SESSION数据，新值为：lisi；</li>
<li>访问code18.php文件，实现删除SESSION数据name；</li>
<li>以上操作实现完成后，都通过访问code19.php文件来进行查看操作；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol start="0">
<li>构建名为code19.php的程序文件，本文件中实现只输出SESSION数据操作，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="comment">#查询SESSION数据的操作</span></span><br><span class="line">var_dump( $_SESSION );</span><br></pre></td></tr></table></figure>
<ol>
<li>构建名为code16.php程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="comment">#新增SESSION数据</span></span><br><span class="line">$_SESSION[<span class="string">'name'</span>] = <span class="string">'zhangsan'</span>;</span><br></pre></td></tr></table></figure>
<p>先访问code16.php，然后再访问code19.php，输出内容效果如下：</p>
<p><img src="\images\two\img_d14\25.jpg" alt="25"></p>
<hr>
<ol start="2">
<li>构建名为code17.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改SESSION数据    下标不变，值改变   </span></span><br><span class="line">$_SESSION[<span class="string">'name'</span>] = <span class="string">'lisi'</span>;</span><br></pre></td></tr></table></figure>
<p>先访问code17.php，然后再访问code19.php，输出内容效果如下：</p>
<p><img src="\images\two\img_d14\26.jpg" alt="26"></p>
<hr>
<ol start="3">
<li>构建名为code18.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除SESSION数据  使用unset删除数组元素一样删除即可</span></span><br><span class="line"><span class="keyword">unset</span>($_SESSION[<span class="string">'name'</span>]);</span><br></pre></td></tr></table></figure>
<p>先访问code18.php，然后再访问code19.php，输出内容效果如下：</p>
<p><img src="\images\two\img_d14\27.jpg" alt="27"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>对SESSION数据做任何操作之前，<strong>都必须先开启SESSION机制</strong>，我们可以使用<strong>session_start</strong>函数来开启；</li>
<li>对SESSION数据的增删改操作只需要像对<strong>数组</strong>做<strong>增删改</strong>操作一样操作$_SESSION变量即可；</li>
<li>对SESSION数据的<strong>查询操作</strong>，只需要直接像<strong>查询数组元素的值</strong>一样操作$_SESSION变量即可；</li>
</ol>
<hr>
<h3 id="5-4-2-基本原理"><a href="#5-4-2-基本原理" class="headerlink" title="5.4.2 基本原理"></a>5.4.2 基本原理</h3><p><strong>==原理图==</strong>：</p>
<p><img src="\images\two\img_d14\29.png" alt="29"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>SESSION数据时存储在<strong>服务器</strong>的；</li>
<li>SESSION技术的实现本质上需要<strong>依赖于COOKIE技术</strong>；</li>
</ol>
<hr>
<h3 id="5-4-3-SESSION和SESSION的关系"><a href="#5-4-3-SESSION和SESSION的关系" class="headerlink" title="5.4.3 $_SESSION和SESSION的关系"></a>5.4.3 $_SESSION和SESSION的关系</h3><p><strong>==关系图==</strong>：</p>
<p><img src="\images\two\img_d14\30.png" alt="30"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>当session_start时，如果是<strong>首次请求</strong>，则将先去<strong>开辟一个会话数据区空间</strong>，然后将$_SESSION变量<strong>初始化</strong>为<strong>空数组</strong>；如果不是首次请求，则找到之前开辟过得会话数据区，将数据区中的所有数据<strong>取出来</strong>初始化给<strong>$_SESSION</strong>作为$_SESSION的数组元素来存在；</li>
<li>当程序运行结束时，PHP会把$_SESSION中的所有数据全部一次性<strong>覆盖</strong>写入SESSION会话数据区；</li>
<li>程序执行的过程中，如果<strong>直接操作到$_SESSION变量</strong>，是<strong>不会</strong>直接操作到SESSION数据区；</li>
</ol>
<hr>
<h3 id="5-4-4-销毁SESSION数据-区"><a href="#5-4-4-销毁SESSION数据-区" class="headerlink" title="5.4.4 销毁SESSION数据(区)"></a>5.4.4 销毁SESSION数据(区)</h3><p>涉及的函数：</p>
<blockquote>
<p>session_destroy()    销毁SESSION会话数据（区）</p>
</blockquote>
<p><strong>==需求==</strong>：分别实现如下操作</p>
<ol>
<li>访问code22.php文件，实现新增2条SESSION数据，第一条名为：name，值为：zhangsan；第二条名为：age，值为12；</li>
<li>访问code23.php文件，先打印出所有的SESSION数据，然后再执行销毁SESSION数据区的操作，接着再次打印所有的SESSION数据；</li>
<li>访问code24.php文件，打印出所有的SESSION数据；</li>
</ol>
<p><strong>==解答==</strong>：</p>
<ol>
<li>构建名为code22.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line">$_SESSION[<span class="string">'name'</span>] = <span class="string">'zhangsan'</span>;</span><br><span class="line">$_SESSION[<span class="string">'age'</span>] = <span class="number">12</span>;</span><br></pre></td></tr></table></figure>
<p>访问code22.php，然后再构建名为code23.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line">print_r( $_SESSION ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁SESSION数据区</span></span><br><span class="line">session_destroy();</span><br><span class="line">print_r( $_SESSION );</span><br></pre></td></tr></table></figure>
<p>访问code23.php后，输出的内容为：</p>
<p><img src="\images\two\img_d14\28.jpg" alt="28"></p>
<hr>
<ol start="2">
<li>构建code24.php的程序文件，代码如下：</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line">print_r( $_SESSION ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br></pre></td></tr></table></figure>
<p>访问code24.php，输出的内容如下：</p>
<p><img src="\images\two\img_d14\31.png" alt="31"></p>
<p><strong>==小结==</strong>：session_destory<strong>只</strong>负责销毁<strong>SESSION数据区</strong>，其他事情一律不管。</p>
<hr>
<h3 id="5-4-5-属性控制"><a href="#5-4-5-属性控制" class="headerlink" title="5.4.5 属性控制"></a>5.4.5 属性控制</h3><p>SESSION技术的实现，本质上是<strong>依赖于COOKIE技术</strong>的，在做SESSION操作的时候，<strong>PHP</strong>会自动生成一个名为<strong>PHPSESSID</strong>的<strong>COOKIE数据</strong>。</p>
<p>既然PHPSESSID是一条COOKIE数据，那么，COOKIE数据所具有的属性PHPSESSID也同样拥有。但是，因为PHPSESSID不是我们通过setcookie函数来新增的，而是PHP帮我们增加的，所以，如果我们要控制PHPSESSID这条特殊的COOKIE数据的属性的话，就必须通过配置php.ini相应的配置项来控制。</p>
<h4 id="1-有效期-1"><a href="#1-有效期-1" class="headerlink" title="1) 有效期"></a>1) 有效期</h4><p>和普通的COOKIE数据<strong>相同</strong></p>
<p>默认情况下也是一个会话周期</p>
<p>一个会话周期表示生成这个COOKIE数据开始到浏览器关闭为止。</p>
<h4 id="2-有效路径-1"><a href="#2-有效路径-1" class="headerlink" title="2) 有效路径"></a>2) 有效路径</h4><p>和普通的COOKIE数据<strong>不同</strong></p>
<p>默认情况下是网站的<strong>根目录</strong>及<strong>其子目录</strong>下都有效</p>
<h4 id="3-有效域-1"><a href="#3-有效域-1" class="headerlink" title="3) 有效域"></a>3) 有效域</h4><p>和普通的COOKIE数据<strong>相同</strong></p>
<p>都是当前域名及其子域名下有效。</p>
<h4 id="4-是否安全传输-1"><a href="#4-是否安全传输-1" class="headerlink" title="4) 是否安全传输"></a>4) 是否安全传输</h4><p>和普通的COOKIE数据<strong>相同</strong></p>
<p>默认情况为http和https都能使用。</p>
<h4 id="5-httponly属性"><a href="#5-httponly属性" class="headerlink" title="5) httponly属性"></a>5) httponly属性</h4><p>这个属性对于SESSION无意义。</p>
<h4 id="6-在php-ini中属性"><a href="#6-在php-ini中属性" class="headerlink" title="6) 在php.ini中属性"></a>6) 在php.ini中属性</h4><p><img src="\images\two\img_d14\2.png" alt="2"></p>
<p><img src="\images\two\img_d14\3.png" alt="3"></p>
<h3 id="5-5-6-属性设置"><a href="#5-5-6-属性设置" class="headerlink" title="5.5.6 属性设置"></a>5.5.6 属性设置</h3><p>涉及函数</p>
<blockquote>
<p>session_set_cookie_params(有效期[,  有效路径[,  有效域[,  是否安全传输[,  httponly]]]])</p>
</blockquote>
<p><strong>==案例==</strong>：通过session_set_cookie_params设定有效期，观察效果。</p>
<p><strong>==实现==</strong>：构建名为code25.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//设置PHPSESSID的属性   设置属性必须在session_start之前</span></span><br><span class="line">session_set_cookie_params(<span class="number">5</span>, <span class="string">'/'</span>, <span class="string">'home.com'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//开启SESSION机制  操作SESSION之前，必须先开启SESSION机制</span></span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">$_SESSION[<span class="string">'name'</span>] = <span class="string">'zhangsan'</span>;</span><br></pre></td></tr></table></figure>
<p>访问code25.php观察有效期效果：</p>
<p><img src="\images\two\img_d14\32.png" alt="32"></p>
<p>有效期5秒后，再刷新监控面板，</p>
<p><img src="\images\two\img_d14\33.png" alt="33"></p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>session_set_cookie_params必须在开启SESSION机制之前进行设置。</li>
</ol>
<hr>
<h3 id="5-5-7-垃圾回收机制"><a href="#5-5-7-垃圾回收机制" class="headerlink" title="5.5.7 垃圾回收机制"></a>5.5.7 垃圾回收机制</h3><p>PHP中存在一种针对SESSION会话数据区的垃圾回收机制，如果PHP发现，在一定的时间内<strong>某个SESSION会话数据区没有被使用</strong>，则在下一次访问时，将会<strong>自动</strong>以<strong>一定的概率清除</strong>这个被认为是无效的垃圾SESSION会话数据区。</p>
<p>涉及到php.ini中的几个配置项：</p>
<p><img src="\images\two\img_d14\34.png" alt="34"></p>
<p><img src="\images\two\img_d14\35.png" alt="35"></p>
<p><img src="\images\two\img_d14\36.png" alt="36"></p>
<p>PHP对于SESSION数据区是否是一个垃圾数据区的判定方法是：如果发现在session.gc_maxlifetime秒数内，如果还没有任何程序访问这个数据区，则会认为这数据区==<strong>可能</strong>==是一个垃圾数据区；接着会以session.gc_probability除以session.gc_divisor得到的概率来进行清除；</p>
<p><strong>==小结==</strong>：</p>
<ol>
<li>SESSION的垃圾回收机制其实就按照配置文件中指定的配置项，所计算出来概率去清除的。</li>
</ol>
<hr>
<h1 id="6-GD图像处理技术"><a href="#6-GD图像处理技术" class="headerlink" title="6. GD图像处理技术"></a>6. GD图像处理技术</h1><h2 id="6-1-概念"><a href="#6-1-概念" class="headerlink" title="6.1 概念"></a>6.1 概念</h2><h3 id="6-1-1why使用"><a href="#6-1-1why使用" class="headerlink" title="6.1.1why使用"></a>6.1.1why使用</h3><p>在WEB项目中，GD图像处理技术非常广泛，比如验证码图片，给图片打水印等。</p>
<h3 id="6-1-2-what"><a href="#6-1-2-what" class="headerlink" title="6.1.2 what"></a>6.1.2 what</h3><p>GD图像处理技术 即PHP通过使用<strong>GD扩展</strong>来操作图像的一种技术。</p>
<h2 id="6-2-开启GD扩展"><a href="#6-2-开启GD扩展" class="headerlink" title="6.2 开启GD扩展"></a>6.2 开启GD扩展</h2><p>扩展，意味着GD并不是PHP默认就是配置开启的，而是需要额外进行配置的。</p>
<p><strong>==开启步骤==</strong>：</p>
<p>第一步，打开php.ini查看extension_dir是否正确配置，</p>
<p><img src="\images\two\img_d15\1.jpg" alt="1"></p>
<p>第二步，开启gd扩展的配置项，</p>
<p><img src="\images\two\img_d15\2.jpg" alt="2"></p>
<p>检查php_gd2.dll文件是否存在，<img src="\images\two\img_d15\3.jpg" alt="3"></p>
<p>第三步，重启apache，检查gd扩展是否开启成功</p>
<p><img src="\images\two\img_d15\11.png" alt="11"></p>
<h2 id="6-3-GD扩展操作"><a href="#6-3-GD扩展操作" class="headerlink" title="6.3 GD扩展操作"></a>6.3 GD扩展操作</h2><h3 id="6-3-1-操作分析"><a href="#6-3-1-操作分析" class="headerlink" title="6.3.1 操作分析"></a>6.3.1 操作分析</h3><p>在程序中使用GD扩展操作图像，其实就相当于我们在电脑中使用各种绘图软件来绘制图像，比如PS软件。</p>
<p>我们以PS软件绘制图像的方式为切入点，来分析绘图过程中所需要的一些操作有哪些：</p>
<ol>
<li><p>打开PS软件  (相当于打开GD扩展)；</p>
</li>
<li><p>创建画布；</p>
</li>
<li>在画布做各种操作；</li>
<li>保存图像；</li>
<li>关闭软件；</li>
</ol>
<h3 id="6-3-2-创建画布相关操作"><a href="#6-3-2-创建画布相关操作" class="headerlink" title="6.3.2 创建画布相关操作"></a>6.3.2 创建画布相关操作</h3><p>涉及的函数：</p>
<blockquote>
<p><strong>imagecreate</strong>(宽，高)                                创建画布</p>
<p><strong>imagecreatetruecolor</strong>(宽,高)                 创建一个真彩色画布</p>
<p><strong>imagecreatefromjpeg</strong>(jpeg图片路径)   根据一张已有的jpeg图片创建画布</p>
<p><strong>imagecreatefromgif</strong>(gif图片路径)         根据一张已有的gif图片创建画布</p>
<p><strong>imagecreatefrompng</strong>(png图片路径)    根据一张已有的png图片创建画布</p>
</blockquote>
<p><strong>==需求==</strong>：根据以下要求完成操作，</p>
<ol>
<li>根据imagecreate和imagecreatetruecolor两个函数分别创建一个400*200的画布，打印返回值；</li>
<li>根据一张已有的jpeg图片创建画布，打印返回值；</li>
</ol>
<p><strong>==解答==</strong>：创建名为code2.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	<span class="comment">#imagecreate函数</span></span><br><span class="line">	$img1 = imagecreate(<span class="number">400</span>, <span class="number">200</span>);</span><br><span class="line">	var_dump($img1);<span class="keyword">echo</span> <span class="string">"&lt;hr&gt;"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">#imagecreatetruecolor函数</span></span><br><span class="line">	$img2 = imagecreatetruecolor(<span class="number">400</span>, <span class="number">200</span>);</span><br><span class="line">	var_dump($img2);<span class="keyword">echo</span> <span class="string">"&lt;hr&gt;"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">#imagecreatefromjpeg函数</span></span><br><span class="line">	$img3 = imagecreatefromjpeg(<span class="string">'./source/m1.jpg'</span>);</span><br><span class="line">	var_dump($img3);<span class="keyword">echo</span> <span class="string">"&lt;hr&gt;"</span>;</span><br></pre></td></tr></table></figure>
<p>访问code2.php，输出的内容如下：</p>
<p><img src="\images\two\img_d15\7.jpg" alt="7"></p>
<p><strong>小结：</strong>使用创建画布函数得到的结果统一都是资源类型的结果</p>
<h3 id="6-3-3-关闭画布操作"><a href="#6-3-3-关闭画布操作" class="headerlink" title="6.3.3 关闭画布操作"></a>6.3.3 关闭画布操作</h3><p>涉及的函数：</p>
<blockquote>
<p><strong>imagedestroy</strong>(画布资源)    销毁画布资源</p>
</blockquote>
<p><strong>==需求==</strong>：根据以下要求完成操作，</p>
<ol>
<li>根据imagecreate创建一个400*200的画布，打印返回值；</li>
<li>使用imagedestroy关闭打开的画布，再次打印”1”中创建的画布资源返回值；</li>
</ol>
<p><strong>==解答==</strong>：创建名为code3.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line">var_dump( $img ); <span class="keyword">echo</span> <span class="string">'&lt;hr/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#imagedestroy函数</span></span><br><span class="line">imagedestroy($img);</span><br><span class="line"></span><br><span class="line">var_dump( $img );</span><br></pre></td></tr></table></figure>
<p>访问code3.php，输出的内容如下：</p>
<p><img src="\images\two\img_d15\4.jpg" alt="4"></p>
<h3 id="6-3-4-图像输出相关操作"><a href="#6-3-4-图像输出相关操作" class="headerlink" title="6.3.4 图像输出相关操作"></a>6.3.4 图像输出相关操作</h3><p>涉及函数：</p>
<blockquote>
<p><strong>imagejpeg()</strong> 以jpeg的格式输出图片到浏览器或保存成文件</p>
<p><strong>imagepng()</strong> 以png的格式输出图片到浏览器或保存成文件</p>
<p><strong>imagegif()</strong> 以gif的格式输出图片到浏览器或保存成文件</p>
</blockquote>
<p><strong>==需求==</strong>：创建code4.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>同时实现根据GET方式传递的type值判定，如果type值为1，则直接将”1”中创建的画布以jpeg图片的格式输出到浏览器；如果type值为2，则将”1”中创建的画布以jpeg格式保存成图片文件；</li>
</ol>
<p><strong>==解答==</strong>：创建名为code4.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$type = <span class="keyword">isset</span>($_GET[<span class="string">'type'</span>]) ? $_GET[<span class="string">'type'</span>] : <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"><span class="comment">//var_dump( $img ); echo '&lt;hr/&gt;';</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( $type==<span class="number">1</span> )&#123;<span class="comment">//表示直接将图像输出到浏览器</span></span><br><span class="line"></span><br><span class="line">    header(<span class="string">'Content-type:image/jpeg'</span>);<span class="comment">//告诉浏览器之后要以image/jpeg的内容类型来对待响应给你浏览器的内容</span></span><br><span class="line">    imagejpeg($img);</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">elseif</span>( $type==<span class="number">2</span> )&#123;<span class="comment">//表示将图像以jpeg格式的图片文件保存下来</span></span><br><span class="line"></span><br><span class="line">    imagejpeg($img, <span class="string">'./imgxxx.jpg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-5-画布内容相关操作"><a href="#6-3-5-画布内容相关操作" class="headerlink" title="6.3.5 画布内容相关操作"></a>6.3.5 画布内容相关操作</h3><p>涉及的函数：</p>
<blockquote>
<p><strong>imagecolorallocate</strong>(画布资源,  R色值,  G色值,  B色值)    分配一个颜色</p>
<p><strong>imagefill</strong>(画布资源,  基点x坐标,  基点y坐标,  颜色)    向画布填充颜色</p>
<p><strong>imageline</strong>(画布资源,  起点x坐标,  起点y坐标,  终点x坐标,  终点y坐标,  颜色)    画线段操作</p>
<p><strong>imagerectangle</strong>(画布资源,  对角线起点x坐标,  对角线起点y坐标,  对角线终点x坐标,  对角线终点y坐标,  颜色)    画矩形</p>
<p><strong>imagearc</strong>(画布资源,  圆心x坐标,  圆心y坐标,  椭圆宽,  椭圆高,  起点角度,  终点角度,  颜色)    画圆弧线段</p>
<p><strong>imagestring</strong>(画布资源,  字体大小,  文字左上角x坐标,  文字左上角y坐标,  内容,  颜色)    根据系统字体写字</p>
<p><strong>imagettftext</strong>(画布资源,  字体大小,  角度,  文字左下角x坐标,  文字左下角y坐标,  颜色,  字体路径,  内容)    根据ttf格式的字体写字</p>
</blockquote>
<p><strong>==需求1==</strong>：创建code5.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答1==</strong>：创建名为code5.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#分配一个颜色</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#填充背景色</span></span><br><span class="line">imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#将图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($img);</span><br></pre></td></tr></table></figure>
<p>访问code5.php，效果为：</p>
<p><img src="\images\two\img_d15\5.jpg" alt="5"></p>
<p><strong>==需求1小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\1.png" alt="1"></p>
<p>原理：</p>
<p><img src="\images\two\img_d15\13.png" alt="13"></p>
<p>以当前选择的坐标基点向四周扩散填充。</p>
<p><strong>==需求2==</strong>：创建code6.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>在画布上画一条线段；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答2==</strong>：创建名为code6.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"><span class="comment">#分配一个颜色</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"><span class="comment">#填充背景色</span></span><br><span class="line">imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"><span class="comment">#画线段</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">0</span>, <span class="number">12</span>, <span class="number">214</span>);</span><br><span class="line">imageline($img, <span class="number">100</span>, <span class="number">50</span>, <span class="number">300</span>, <span class="number">150</span>, $color);</span><br><span class="line"></span><br><span class="line"><span class="comment">#将图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($img);</span><br></pre></td></tr></table></figure>
<p>访问code6.php，效果为：</p>
<p><img src="\images\two\img_d15\15.jpg" alt="15"></p>
<p><strong>==需求2小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\2.png" alt="2"></p>
<p>原理：</p>
<p><img src="\images\two\img_d15\14.jpg" alt="14"></p>
<p><strong>==需求3==</strong>：创建code7.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>在画布上画一个矩形；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答3==</strong>：创建名为code7.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"><span class="comment">#分配一个颜色</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"><span class="comment">#填充背景色</span></span><br><span class="line">imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"><span class="comment">#画矩形</span></span><br><span class="line">$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">imagerectangle($img, <span class="number">120</span>, <span class="number">90</span>, <span class="number">300</span>, <span class="number">150</span>, $color);</span><br><span class="line"></span><br><span class="line"><span class="comment">#将图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($img);</span><br></pre></td></tr></table></figure>
<p>访问code7.php，效果为：</p>
<p><img src="\images\two\img_d15\6.jpg" alt="6"></p>
<p><strong>==需求3小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\3.png" alt="3"></p>
<p>原理：对角线两点坐标</p>
<p>!16](\images\two\img_d15\16.png)</p>
<p><strong>==需求4==</strong>：创建code8.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>在画布上画一个椭圆；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答4==</strong>：创建名为code8.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#分配一个颜色</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#填充背景色</span></span><br><span class="line">imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"></span><br><span class="line"><span class="comment">#画椭圆</span></span><br><span class="line">$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">imagearc($img, <span class="number">200</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">80</span>, <span class="number">0</span>, <span class="number">360</span>, $color);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#将图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($img);</span><br></pre></td></tr></table></figure>
<p>访问code8.php，效果为：</p>
<p><img src="\images\two\img_d15\16.jpg" alt="16"></p>
<p><strong>==需求4小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\4.png" alt="4"></p>
<p>原理：</p>
<p><img src="\images\two\img_d15\18.png" alt="18"></p>
<p><strong>==需求5==</strong>：创建code9.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>在画布上使用imagestring写一句话：”today is a goods day”；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答5==</strong>：创建名为code9.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#imagecreate函数</span></span><br><span class="line">$img = imagecreate(<span class="number">400</span>, <span class="number">200</span>);<span class="comment">//单位是像素</span></span><br><span class="line"><span class="comment">#分配一个颜色</span></span><br><span class="line">$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"><span class="comment">#填充背景色</span></span><br><span class="line">imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"><span class="comment">#使用imagestring写字</span></span><br><span class="line"><span class="comment">//$str = '今天天气好晴朗哟';</span></span><br><span class="line">$str = <span class="string">'today is a goods day'</span>;</span><br><span class="line">$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>), mt_rand(<span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">imagestring($img, <span class="number">5</span>, <span class="number">100</span>, <span class="number">80</span>, $str, $color);</span><br><span class="line"><span class="comment">#将图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($img);</span><br></pre></td></tr></table></figure>
<p>访问code9.php，效果为：</p>
<p><img src="\images\two\img_d15\20.png" alt="20"></p>
<p><strong>==需求5小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\5.png" alt="5"></p>
<p><strong>==需求6==</strong>：创建code10.php程序文件，</p>
<ol>
<li>使用imagecreate创建一个400*200的画布；</li>
<li>将画布的背景色填充为RGB(255, 233, 85)；</li>
<li>在画布上使用imagettftext写一句话：”今天天气好晴朗”；</li>
<li>将画布以jpeg格式的图片直接输出到浏览器；</li>
</ol>
<p><strong>==解答6==</strong>：创建名为code10.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	$img = imagecreate(<span class="number">400</span>,<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">	$color = imagecolorallocate($img, <span class="number">255</span>, <span class="number">233</span>, <span class="number">85</span>);</span><br><span class="line"></span><br><span class="line">	imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line"></span><br><span class="line">	$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line"></span><br><span class="line">	$str =<span class="string">'今天天气好晴朗'</span>;</span><br><span class="line">	imagettftext($img, <span class="number">30</span>, <span class="number">0</span>, <span class="number">70</span>,<span class="number">150</span>, $color, <span class="string">'D:/PHP/code php/xjrybxk.ttf'</span>,$str);</span><br><span class="line"></span><br><span class="line">	header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">	imagejpeg($img);</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>访问code10.php，效果为：</p>
<p><img src="\images\two\img_d15\17.jpg" alt="17"></p>
<p><strong>==需求6小结==</strong>：</p>
<p>函数：</p>
<p><img src="\images\two\img_d15\6.png" alt="6"></p>
<p>原理：1）角度是逆时针旋转的。2）ttf字体文件的路径在php7.x的版本后需要指定成从盘符开始的绝对路径地址。</p>
<h3 id="6-3-6辅助相关操作"><a href="#6-3-6辅助相关操作" class="headerlink" title="6.3.6辅助相关操作"></a>6.3.6辅助相关操作</h3><p>涉及的函数：</p>
<blockquote>
<p>==<strong>imagesx</strong>==(画布资源)    获得图片的宽度</p>
<p><strong>==imagesy==</strong>(画布资源)    获得图片的高度</p>
<p><strong>getimagesize</strong>(图片路径)    获得图片的宽度和高度等信息</p>
</blockquote>
<p><strong>==需求==</strong>：创建code11.php程序文件，</p>
<ol>
<li>使用imagecreatefromjpeg创建一个画布；</li>
<li>获取这个画布的宽度；</li>
<li>获取这个画布的高度；</li>
<li>获取这个画布的宽度、高度、位度等信息；</li>
</ol>
<p><strong>==解答==</strong>：创建名为code11.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>访问code11.php，效果为：</p>
<p><img src="\images\two\img_d15\22.png" alt="22"></p>
<h2 id="6-4-案例：制作水印图"><a href="#6-4-案例：制作水印图" class="headerlink" title="6.4 案例：制作水印图"></a>6.4 案例：制作水印图</h2><h3 id="6-4-1-功能分析"><a href="#6-4-1-功能分析" class="headerlink" title="6.4.1 功能分析"></a>6.4.1 功能分析</h3><ol>
<li>基于需要打水印的图片（目标图片）创建一个画布；</li>
<li>基于水印图创建一个画布；</li>
<li>在目标图片中选择一个坐标基点；</li>
<li>在水印图片上选择一个坐标基点（（0，0）点）；</li>
<li>将水印图拖拽进目标图，让两张图片的坐标基点对其重合;</li>
<li>调整在目标图片中水印图的透明度；</li>
<li>将打好水印的成品图保存成jpg文件；</li>
<li>关闭目标画布，关闭水印图画布；</li>
</ol>
<p>涉及的函数：</p>
<blockquote>
<p><strong>imagecopymerge(）</strong>           拷贝并合并图像的一部分</p>
</blockquote>
<h3 id="6-4-2-代码实现"><a href="#6-4-2-代码实现" class="headerlink" title="6.4.2 代码实现"></a>6.4.2 代码实现</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1. 基于需要打水印的图片（目标图片）创建一个画布</span></span><br><span class="line">$dst = imagecreatefromjpeg(<span class="string">'./source/m1.jpg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#2. 基于水印图创建一个画布</span></span><br><span class="line">$src = imagecreatefrompng(<span class="string">'./source/logo.png'</span>);</span><br><span class="line"></span><br><span class="line">$src_w = imagesx($src);<span class="comment">//水印图的宽度</span></span><br><span class="line">$src_h = imagesy($src);<span class="comment">//水印图的高度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#第3～6步，需要通过imagecopymerge函数来实现</span></span><br><span class="line">imagecopymerge($dst, $src, <span class="number">300</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>, $src_w, $src_h, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#7. 将目标图像输出到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($dst_img);</span><br><span class="line"></span><br><span class="line"><span class="comment">#8. 关闭画布资源</span></span><br><span class="line">imagedestroy($dst);</span><br><span class="line">imagedestroy($src);</span><br></pre></td></tr></table></figure>
<p>访问后的效果：</p>
<p><img src="\images\two\img_d15\18.jpg" alt="18"></p>
<h2 id="6-5-案例：制作缩略图"><a href="#6-5-案例：制作缩略图" class="headerlink" title="6.5 案例：制作缩略图"></a>6.5 案例：制作缩略图</h2><h3 id="6-5-1-固定宽高缩略图"><a href="#6-5-1-固定宽高缩略图" class="headerlink" title="6.5.1 固定宽高缩略图"></a>6.5.1 固定宽高缩略图</h3><h4 id="1）-功能分析"><a href="#1）-功能分析" class="headerlink" title="1） 功能分析"></a>1） 功能分析</h4><ol>
<li>根据一张需要缩小的图片（西瓜头）创建画布；</li>
<li>创建一个300*200px的空白画布（目标画布）；</li>
<li>在目标画布上选择左上角(0,0)点作为坐标基点；</li>
<li>在西瓜头画布上选择左上角(0,0)点作为坐标基点；</li>
<li>将西瓜头画布拖拽进目标画布中，并且让西瓜头画布的坐标基点对其目标画布的坐标基点；</li>
<li>将西瓜头画布的宽度调整为与目标图画布宽度相等的宽度；</li>
<li>将西瓜头画布的高度就调整为与目标图画布高度相等的高度；</li>
<li>将目标图保存成jpg格式的图片；</li>
<li>关闭西瓜头画布，关闭目标图画布；</li>
</ol>
<h4 id="2）代码实现"><a href="#2）代码实现" class="headerlink" title="2）代码实现"></a>2）代码实现</h4><p>创建名为code13.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">#1. 根据一张需要缩小的图片创建画布</span></span><br><span class="line">$src = imagecreatefromjpeg(<span class="string">'./source/m2.jpg'</span>);</span><br><span class="line">$src_w = imagesx($src);<span class="comment">//获得画布的宽度</span></span><br><span class="line">$src_h = imagesy($src);<span class="comment">//获得画布的高度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2. 创建一个300*200px的空白画布（目标画布）</span></span><br><span class="line"><span class="comment">//$dst = imagecreate(300, 200);</span></span><br><span class="line">$dst = imagecreatetruecolor(<span class="number">400</span>,<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#第3～7步，需要imagecopyresampled来实现缩略图</span></span><br><span class="line">imagecopyresampled($dst, $src, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>,<span class="number">200</span>, $src_w, $src_h);</span><br><span class="line"></span><br><span class="line"><span class="comment">#8. 输出目标图像到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($dst);</span><br><span class="line"></span><br><span class="line"><span class="comment">#9. 关闭画布资源</span></span><br><span class="line">imagedestroy($src);</span><br><span class="line">imagedestroy($dst);</span><br></pre></td></tr></table></figure>
<p>访问后的效果：</p>
<p><img src="\images\two\img_d15\19.jpg" alt="19"></p>
<p>固定宽高的缩略图，其实是没有考虑到原图的宽高比例的，实际缩小以后，很可能会变形。</p>
<h3 id="6-5-2-等比缩略图"><a href="#6-5-2-等比缩略图" class="headerlink" title="6.5.2 等比缩略图"></a>6.5.2 等比缩略图</h3><p>创建名为code14.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$max_w = <span class="number">500</span>;<span class="comment">//限定最终缩略图最大的宽度不能超过200px</span></span><br><span class="line">$max_h = <span class="number">300</span>;<span class="comment">//限定最终缩略图最大的高度不能超过300px</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#1. 根据一张需要缩小的图片（西瓜头）创建画布</span></span><br><span class="line">$src = imagecreatefromjpeg(<span class="string">'./source/m2.jpg'</span>);</span><br><span class="line"></span><br><span class="line">$src_w = imagesx($src);<span class="comment">//获得西瓜头画布的宽度</span></span><br><span class="line">$src_h = imagesy($src);<span class="comment">//获得西瓜头画布的高度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#计算缩略图的宽度和高度</span></span><br><span class="line">$dst_h = $max_h;<span class="comment">//先将高度缩小到限定区域的高度</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">原图的宽度/原图的高度=缩略图的宽度/缩略图的高度</span></span><br><span class="line"><span class="comment">缩略图的宽度=(原图的宽度/原图的高度)*缩略图的高度</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$dst_w = ($src_w/$src_h)*$dst_h;<span class="comment">//计算得到缩略图的宽度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( $dst_w&gt;$max_w )&#123;<span class="comment">//如果计算得到的缩略图的宽度比限定区域的宽度还要大，则重新计算缩略图的宽度和高度</span></span><br><span class="line"></span><br><span class="line">    $dst_w = $max_w;<span class="comment">//先将宽度缩小到限定区域的宽度</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">原图的宽度/原图的高度=缩略图的宽度/缩略图的高度</span></span><br><span class="line"><span class="comment">缩略图的高度=缩略图的宽度/(原图的宽度/原图的高度)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    $dst_h = $dst_w/($src_w/$src_h);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#2. 创建一个300*200px的空白画布（目标画布）</span></span><br><span class="line">$dst = imagecreatetruecolor($dst_w, $dst_h);</span><br><span class="line"></span><br><span class="line"><span class="comment">#第3～7步，需要imagecopyresampled来实现缩略图</span></span><br><span class="line">imagecopyresampled($dst, $src, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, $dst_w, $dst_h, $src_w, $src_h);</span><br><span class="line"></span><br><span class="line"><span class="comment">#8. 输出目标图像到浏览器</span></span><br><span class="line">header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">imagejpeg($dst);</span><br><span class="line"></span><br><span class="line"><span class="comment">#9. 关闭画布资源</span></span><br><span class="line">imagedestroy($src);</span><br><span class="line">imagedestroy($dst);</span><br></pre></td></tr></table></figure>
<p>访问后的效果：</p>
<p><img src="\images\two\img_d15\20.jpg" alt="20"></p>
<h2 id="6-6-案例：制作验证码"><a href="#6-6-案例：制作验证码" class="headerlink" title="6.6 案例：制作验证码"></a>6.6 案例：制作验证码</h2><h3 id="6-6-1-功能分析"><a href="#6-6-1-功能分析" class="headerlink" title="6.6.1 功能分析"></a>6.6.1 功能分析</h3><ol>
<li>创建画布，填充背景色；</li>
<li>写字；</li>
<li>构建干扰元素；</li>
</ol>
<h3 id="6-6-2-代码实现"><a href="#6-6-2-代码实现" class="headerlink" title="6.6.2 代码实现"></a>6.6.2 代码实现</h3><p>创建名为code15.php的程序文件，代码如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">	<span class="comment">//1. 创建一个画布</span></span><br><span class="line">	$img = imagecreatetruecolor(<span class="number">300</span>, <span class="number">150</span>);</span><br><span class="line">	$i_h = imagesy($img);<span class="comment">//画布的高</span></span><br><span class="line">	$i_w = imagesx($img);<span class="comment">//画布的宽</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2. 背景色</span></span><br><span class="line">	$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line">	<span class="comment">//填充颜色</span></span><br><span class="line">	imagefill($img, <span class="number">0</span>, <span class="number">0</span>, $color);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//3. 创建字符</span></span><br><span class="line">	$str = <span class="string">''</span>;</span><br><span class="line">	<span class="keyword">for</span> ($i=<span class="number">0</span>; $i &lt;<span class="number">4</span>; $i++) &#123; </span><br><span class="line">		<span class="comment">//添加字符</span></span><br><span class="line">		$num_arr = array_merge(range(<span class="number">0</span>, <span class="number">9</span>),range(<span class="string">'a'</span>, <span class="string">'z'</span>),range(<span class="string">'A'</span>, <span class="string">'Z'</span>));</span><br><span class="line"></span><br><span class="line">	$num = ($num_arr[rand(<span class="number">0</span>,<span class="number">61</span>)]);</span><br><span class="line">		$str .=$num; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//4. 写字</span></span><br><span class="line">	$h = rand($i_h*(<span class="number">1</span>/<span class="number">3</span>),$i_h*(<span class="number">3</span>/<span class="number">4</span>));</span><br><span class="line">	$w = rand($i_w*(<span class="number">1</span>/<span class="number">4</span>),$i_w*(<span class="number">1</span>/<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line">	</span><br><span class="line">	imagettftext($img, <span class="number">70</span>, <span class="number">0</span>, $h, $w, $color,<span class="string">'D:/PHP/code php/xjrybxk.ttf'</span>,$str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5. 制作干扰</span></span><br><span class="line">	<span class="comment">//5.1 画点</span></span><br><span class="line">	<span class="keyword">for</span> ($i=<span class="number">0</span>; $i &lt; <span class="number">100</span>; $i++) &#123; </span><br><span class="line">		$h = rand(<span class="number">0</span>,$i_h);</span><br><span class="line">		$w = rand(<span class="number">0</span>,$i_w);</span><br><span class="line">		</span><br><span class="line">		$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line">		imageline($img, $w, $h,rand($w<span class="number">-2</span>,$w+<span class="number">2</span>) ,rand($h<span class="number">-2</span>,$h+<span class="number">2</span>), $color);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.2 画线</span></span><br><span class="line">	<span class="keyword">for</span> ($i=<span class="number">0</span>; $i &lt; <span class="number">20</span>; $i++) &#123; </span><br><span class="line">		$h = rand(<span class="number">0</span>,$i_h);</span><br><span class="line">		$w = rand(<span class="number">0</span>,$i_w*(<span class="number">1</span>/<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line"></span><br><span class="line">		imageline($img, $w, $h,rand($w,$i_w) ,rand(<span class="number">0</span>,$i_h), $color);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//5.3画曲线</span></span><br><span class="line">	<span class="keyword">for</span> ($i=<span class="number">0</span>; $i &lt; <span class="number">10</span>; $i++) &#123; </span><br><span class="line">		$h = rand($i_h*(<span class="number">1</span>/<span class="number">3</span>),$i_h*(<span class="number">3</span>/<span class="number">4</span>));<span class="comment">//圆心y坐标</span></span><br><span class="line">		$w = rand($i_w*(<span class="number">1</span>/<span class="number">3</span>),$i_w*(<span class="number">3</span>/<span class="number">4</span>));<span class="comment">//圆心x坐标</span></span><br><span class="line">		</span><br><span class="line">		$color = imagecolorallocate($img, mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>), mt_rand(<span class="number">0</span>,<span class="number">255</span>));</span><br><span class="line"></span><br><span class="line">		imagearc($img, $w, $h, rand(<span class="number">0</span>,$i_w*(<span class="number">1</span>/<span class="number">2</span>)), rand(<span class="number">0</span>,$i_h*(<span class="number">1</span>/<span class="number">2</span>)), rand(<span class="number">0</span>,<span class="number">120</span>), rand(<span class="number">90</span>,<span class="number">180</span>), $color);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//输出画布</span></span><br><span class="line">	header(<span class="string">'Content-type:image/jpeg'</span>);</span><br><span class="line">	imagejpeg($img);</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="\images\two\img_d15\21.jpg" alt="21"></p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/php/" rel="tag"># php</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/09/mysql数据库/" rel="next" title="mysql数据库">
                <i class="fa fa-chevron-left"></i> mysql数据库
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/09/面向对象/" rel="prev" title="面向对象">
                面向对象 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/a.jpg" alt="JIUXINYAN">
            
              <p class="site-author-name" itemprop="name">JIUXINYAN</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/JIUXINYAN" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="691661505@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/JIUXINYAN.com/" title="moxin" target="_blank">moxin</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#核心编程"><span class="nav-number">1.</span> <span class="nav-text">核心编程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-表单传值"><span class="nav-number">2.</span> <span class="nav-text">1. 表单传值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-概念"><span class="nav-number">2.1.</span> <span class="nav-text">1.1  概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-why使用"><span class="nav-number">2.1.1.</span> <span class="nav-text">1.1.1 why使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-what"><span class="nav-number">2.1.2.</span> <span class="nav-text">1.2 what</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-表单传值的方式"><span class="nav-number">2.2.</span> <span class="nav-text">1.2 表单传值的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1POST方式"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.2.1POST方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-GET方式"><span class="nav-number">2.2.2.</span> <span class="nav-text">1.2.2 GET方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-接收数据的方式"><span class="nav-number">2.3.</span> <span class="nav-text">1.3  接收数据的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-POST方式"><span class="nav-number">2.3.1.</span> <span class="nav-text">1.3.1 $_POST方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-GET方式"><span class="nav-number">2.3.2.</span> <span class="nav-text">1.3.2 $_GET方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1）表单传值GET方式的核心特征"><span class="nav-number">2.3.2.1.</span> <span class="nav-text">1）表单传值GET方式的核心特征</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-3-REQUEST方式"><span class="nav-number">2.3.3.</span> <span class="nav-text">1.3.3 $_REQUEST方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-4-POST与GET区别"><span class="nav-number">2.3.4.</span> <span class="nav-text">1.3.4 POST与GET区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-5-GET应用"><span class="nav-number">2.3.5.</span> <span class="nav-text">1.3.5 GET应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-指定a标签的href属性"><span class="nav-number">2.3.5.1.</span> <span class="nav-text">1) 指定a标签的href属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-js中指定location对象的href属性"><span class="nav-number">2.3.5.2.</span> <span class="nav-text">2)  js中指定location对象的href属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-6-单选按钮与复选框的处理"><span class="nav-number">2.3.6.</span> <span class="nav-text">1.3.6 单选按钮与复选框的处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-7-单选按钮"><span class="nav-number">2.3.7.</span> <span class="nav-text">1.3.7 单选按钮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-8-复选框"><span class="nav-number">2.3.8.</span> <span class="nav-text">1.3.8 复选框</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-文件上传"><span class="nav-number">2.4.</span> <span class="nav-text">1.4 文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-概念"><span class="nav-number">2.4.1.</span> <span class="nav-text">1.4.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-why使用文件上传"><span class="nav-number">2.4.1.1.</span> <span class="nav-text">1) why使用文件上传</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-what是文件上传"><span class="nav-number">2.4.1.2.</span> <span class="nav-text">2) what是文件上传</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-文件上传的实现思路"><span class="nav-number">2.4.1.3.</span> <span class="nav-text">3) 文件上传的实现思路</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-核心步骤"><span class="nav-number">2.4.2.</span> <span class="nav-text">1.4.2 核心步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-2-1-多文件上传"><span class="nav-number">2.4.2.1.</span> <span class="nav-text">1.4.2.1 多文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-不同名多文件"><span class="nav-number">2.4.2.1.1.</span> <span class="nav-text">1) 不同名多文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-同名多文件"><span class="nav-number">2.4.2.1.2.</span> <span class="nav-text">2) 同名多文件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-2-2-封装文件上传函数"><span class="nav-number">2.4.2.2.</span> <span class="nav-text">1.4.2.2 封装文件上传函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-error错误码值"><span class="nav-number">2.4.2.2.1.</span> <span class="nav-text">1) error错误码值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-功能分析"><span class="nav-number">2.4.2.2.2.</span> <span class="nav-text">2) 功能分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-代码实现"><span class="nav-number">2.4.2.2.3.</span> <span class="nav-text">3) 代码实现</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-MYSQLI扩展"><span class="nav-number">3.</span> <span class="nav-text">2. MYSQLI扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-概念"><span class="nav-number">3.1.</span> <span class="nav-text">2.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-why使用"><span class="nav-number">3.1.1.</span> <span class="nav-text">2.1.1 why使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-what"><span class="nav-number">3.1.2.</span> <span class="nav-text">2.1.2 what</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-MYSQLI的使用"><span class="nav-number">3.2.</span> <span class="nav-text">2.2 MYSQLI的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-引入MYSQLI"><span class="nav-number">3.2.1.</span> <span class="nav-text">2.2.1 引入MYSQLI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-黑窗口操作"><span class="nav-number">3.2.2.</span> <span class="nav-text">2.2.2 黑窗口操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-连库操作"><span class="nav-number">3.2.3.</span> <span class="nav-text">2.2.3 连库操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-设置-增删改-操作"><span class="nav-number">3.2.4.</span> <span class="nav-text">2.2.4 设置(增删改)操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-5-查询操作"><span class="nav-number">3.2.5.</span> <span class="nav-text">2.2.5 查询操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-6-MYSQLI辅助操作函数"><span class="nav-number">3.2.6.</span> <span class="nav-text">2.2.6 MYSQLI辅助操作函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-HTTP协议"><span class="nav-number">4.</span> <span class="nav-text">3. HTTP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-概念"><span class="nav-number">4.1.</span> <span class="nav-text">3.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-why学习HTTP协议"><span class="nav-number">4.1.1.</span> <span class="nav-text">3.1.1 why学习HTTP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-2-what是HTTP协议"><span class="nav-number">4.1.2.</span> <span class="nav-text">3.1.2 what是HTTP协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-HTTP协议分类"><span class="nav-number">4.2.</span> <span class="nav-text">3.2 HTTP协议分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-HTTP请求"><span class="nav-number">4.2.1.</span> <span class="nav-text">3.2.1 HTTP请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-请求行"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">1) 请求行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-请求头"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">2) 请求头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-空白行"><span class="nav-number">4.2.1.3.</span> <span class="nav-text">3) 空白行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-请求数据"><span class="nav-number">4.2.1.4.</span> <span class="nav-text">4) 请求数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-HTTP响应"><span class="nav-number">4.2.2.</span> <span class="nav-text">3.2.2 HTTP响应</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-状态行"><span class="nav-number">4.2.2.1.</span> <span class="nav-text">1) 状态行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-响应头"><span class="nav-number">4.2.2.2.</span> <span class="nav-text">2) 响应头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-空白行-1"><span class="nav-number">4.2.2.3.</span> <span class="nav-text">3) 空白行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-响应数据"><span class="nav-number">4.2.2.4.</span> <span class="nav-text">4) 响应数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-HTTP协议特点"><span class="nav-number">4.3.</span> <span class="nav-text">3.3  HTTP协议特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-HTTP协议的应用"><span class="nav-number">4.4.</span> <span class="nav-text">3.4 HTTP协议的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-1-跳转"><span class="nav-number">4.4.1.</span> <span class="nav-text">3.4.1 跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-刷新跳转"><span class="nav-number">4.4.2.</span> <span class="nav-text">3.4.2 刷新跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-3-SSL安全访问协议"><span class="nav-number">4.4.3.</span> <span class="nav-text">3.4.3 SSL安全访问协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-https简介"><span class="nav-number">4.4.3.1.</span> <span class="nav-text">1) https简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-配置SSL协议"><span class="nav-number">4.4.3.2.</span> <span class="nav-text">2) 配置SSL协议</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-文件编程"><span class="nav-number">5.</span> <span class="nav-text">4. 文件编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-概念"><span class="nav-number">5.1.</span> <span class="nav-text">4.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-why使用"><span class="nav-number">5.1.1.</span> <span class="nav-text">4.1.1 why使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-2-what"><span class="nav-number">5.1.2.</span> <span class="nav-text">4.1.2 what</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-文件编程分类"><span class="nav-number">5.2.</span> <span class="nav-text">4.2 文件编程分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1-对目录操作"><span class="nav-number">5.2.1.</span> <span class="nav-text">4.2.1 对目录操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2-对文件操作"><span class="nav-number">5.2.2.</span> <span class="nav-text">4.2.2 对文件操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-3-PHP5相关文件操作"><span class="nav-number">5.2.3.</span> <span class="nav-text">4.2.3 PHP5相关文件操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-案例：文件下载"><span class="nav-number">5.3.</span> <span class="nav-text">4.3 案例：文件下载</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-会话技术"><span class="nav-number">6.</span> <span class="nav-text">5.会话技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-概念"><span class="nav-number">6.1.</span> <span class="nav-text">5.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-1-why使用会话技术"><span class="nav-number">6.1.1.</span> <span class="nav-text">5.1.1 why使用会话技术</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-2-what是会话技术"><span class="nav-number">6.1.2.</span> <span class="nav-text">5.1.2 what是会话技术</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-会话技术分类"><span class="nav-number">6.2.</span> <span class="nav-text">5.2. 会话技术分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-COOKIE技术"><span class="nav-number">6.3.</span> <span class="nav-text">5.3 COOKIE技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-1-基本操作"><span class="nav-number">6.3.1.</span> <span class="nav-text">5.3.1 基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-设置操作-增删改"><span class="nav-number">6.3.1.1.</span> <span class="nav-text">1) 设置操作 (增删改)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-查看操作"><span class="nav-number">6.3.1.2.</span> <span class="nav-text">2) 查看操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-2-基本原理"><span class="nav-number">6.3.2.</span> <span class="nav-text">5.3.2 基本原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-3-setcookie与-COOKIE的关系"><span class="nav-number">6.3.3.</span> <span class="nav-text">5.3.3 setcookie与$_COOKIE的关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-4-属性设置"><span class="nav-number">6.3.4.</span> <span class="nav-text">5.3.4 属性设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-有效期"><span class="nav-number">6.3.4.1.</span> <span class="nav-text">1) 有效期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-有效路径"><span class="nav-number">6.3.4.2.</span> <span class="nav-text">2) 有效路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-有效域"><span class="nav-number">6.3.4.3.</span> <span class="nav-text">3) 有效域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-是否安全传输"><span class="nav-number">6.3.4.4.</span> <span class="nav-text">4) 是否安全传输</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-httponly"><span class="nav-number">6.3.4.5.</span> <span class="nav-text">5) httponly</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-5-局限"><span class="nav-number">6.3.5.</span> <span class="nav-text">5.3.5 局限</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-SESSION技术"><span class="nav-number">6.4.</span> <span class="nav-text">5.4 SESSION技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-1-基本操作"><span class="nav-number">6.4.1.</span> <span class="nav-text">5.4.1 基本操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-2-基本原理"><span class="nav-number">6.4.2.</span> <span class="nav-text">5.4.2 基本原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-3-SESSION和SESSION的关系"><span class="nav-number">6.4.3.</span> <span class="nav-text">5.4.3 $_SESSION和SESSION的关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-4-销毁SESSION数据-区"><span class="nav-number">6.4.4.</span> <span class="nav-text">5.4.4 销毁SESSION数据(区)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-5-属性控制"><span class="nav-number">6.4.5.</span> <span class="nav-text">5.4.5 属性控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-有效期-1"><span class="nav-number">6.4.5.1.</span> <span class="nav-text">1) 有效期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-有效路径-1"><span class="nav-number">6.4.5.2.</span> <span class="nav-text">2) 有效路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-有效域-1"><span class="nav-number">6.4.5.3.</span> <span class="nav-text">3) 有效域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-是否安全传输-1"><span class="nav-number">6.4.5.4.</span> <span class="nav-text">4) 是否安全传输</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-httponly属性"><span class="nav-number">6.4.5.5.</span> <span class="nav-text">5) httponly属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-在php-ini中属性"><span class="nav-number">6.4.5.6.</span> <span class="nav-text">6) 在php.ini中属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-6-属性设置"><span class="nav-number">6.4.6.</span> <span class="nav-text">5.5.6 属性设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-7-垃圾回收机制"><span class="nav-number">6.4.7.</span> <span class="nav-text">5.5.7 垃圾回收机制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-GD图像处理技术"><span class="nav-number">7.</span> <span class="nav-text">6. GD图像处理技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-概念"><span class="nav-number">7.1.</span> <span class="nav-text">6.1 概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-1why使用"><span class="nav-number">7.1.1.</span> <span class="nav-text">6.1.1why使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-2-what"><span class="nav-number">7.1.2.</span> <span class="nav-text">6.1.2 what</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-开启GD扩展"><span class="nav-number">7.2.</span> <span class="nav-text">6.2 开启GD扩展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-GD扩展操作"><span class="nav-number">7.3.</span> <span class="nav-text">6.3 GD扩展操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-1-操作分析"><span class="nav-number">7.3.1.</span> <span class="nav-text">6.3.1 操作分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-2-创建画布相关操作"><span class="nav-number">7.3.2.</span> <span class="nav-text">6.3.2 创建画布相关操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-3-关闭画布操作"><span class="nav-number">7.3.3.</span> <span class="nav-text">6.3.3 关闭画布操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-4-图像输出相关操作"><span class="nav-number">7.3.4.</span> <span class="nav-text">6.3.4 图像输出相关操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-5-画布内容相关操作"><span class="nav-number">7.3.5.</span> <span class="nav-text">6.3.5 画布内容相关操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-6辅助相关操作"><span class="nav-number">7.3.6.</span> <span class="nav-text">6.3.6辅助相关操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-案例：制作水印图"><span class="nav-number">7.4.</span> <span class="nav-text">6.4 案例：制作水印图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-1-功能分析"><span class="nav-number">7.4.1.</span> <span class="nav-text">6.4.1 功能分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-2-代码实现"><span class="nav-number">7.4.2.</span> <span class="nav-text">6.4.2 代码实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-5-案例：制作缩略图"><span class="nav-number">7.5.</span> <span class="nav-text">6.5 案例：制作缩略图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5-1-固定宽高缩略图"><span class="nav-number">7.5.1.</span> <span class="nav-text">6.5.1 固定宽高缩略图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1）-功能分析"><span class="nav-number">7.5.1.1.</span> <span class="nav-text">1） 功能分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2）代码实现"><span class="nav-number">7.5.1.2.</span> <span class="nav-text">2）代码实现</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5-2-等比缩略图"><span class="nav-number">7.5.2.</span> <span class="nav-text">6.5.2 等比缩略图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-6-案例：制作验证码"><span class="nav-number">7.6.</span> <span class="nav-text">6.6 案例：制作验证码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6-1-功能分析"><span class="nav-number">7.6.1.</span> <span class="nav-text">6.6.1 功能分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6-2-代码实现"><span class="nav-number">7.6.2.</span> <span class="nav-text">6.6.2 代码实现</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JIUXINYAN</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.6"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.6"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
